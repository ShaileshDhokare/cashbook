import{t as l,j as s,B as i,L as o,x as n,l as p}from"./index-BDF_d_CJ.js";import{I as j,a as u,b as f,c as N,S as y,E as g,A as I}from"./AnalysisChart-CQuR4z1Z.js";import{C as c,a as d,b as x,c as m,d as b}from"./card-C9QRniuc.js";import{c as w,d as v}from"./bookServices-nsHrUcGM.js";import{L as h}from"./Loader-B6MokIPq.js";import{n as E}from"./categoryServices-BWnn23mv.js";import"./schemas-CBLL2PDd.js";import"./paymentModeServices-XXhSRMM6.js";import"./index-CNyThoSg.js";const B=()=>{const r=l(e=>e.userId),{data:a,isLoading:t}=w(r);return s.jsxs(c,{className:"h-fit",children:[s.jsx(d,{children:s.jsx(x,{className:"text-xl",children:"Books"})}),s.jsx(m,{className:"px-4",children:s.jsxs("div",{className:"flex w-full flex-col gap-4",children:[a?.map(e=>s.jsx(j,{variant:"outline",children:s.jsxs(u,{children:[s.jsxs("div",{className:"flex flex-row justify-between",children:[s.jsx(f,{className:"text-xl",children:e.name}),s.jsx(i,{variant:"secondary",size:"sm",asChild:!0,children:s.jsx(o,{to:`/book/${e.id}`,children:"View"})})]}),s.jsx(N,{children:e.description}),s.jsxs("div",{className:"w-full mt-4 flex flex-row gap-4 justify-between items-center",children:[s.jsxs("h1",{className:"text-2xl font-bold",children:[n(),new Intl.NumberFormat("en-IN").format(e.all_time)]}),s.jsxs("p",{className:"text-base font-semibold",children:[s.jsx("span",{className:"text-gray-500",children:"This Month:"})," ",n(),new Intl.NumberFormat("en-IN").format(e.this_month)]}),s.jsxs("p",{className:"text-base font-semibold",children:[s.jsx("span",{className:"text-gray-500",children:"This Year:"})," ",n(),new Intl.NumberFormat("en-IN").format(e.this_year)]})]})]})},e.id)),t&&s.jsx(h,{show:t})]})}),s.jsx(b,{className:"flex justify-center",children:s.jsx(o,{to:"/books",children:s.jsx(i,{children:"Manage Books"})})})]})},C=()=>{const r=l(e=>e.userId),{data:a,isLoading:t}=E(r);return s.jsxs(c,{className:"h-fit",children:[s.jsx(d,{children:s.jsxs(x,{className:"text-xl",children:["Top Expenses in ",p(new Date,"MMMM yyyy")]})}),s.jsx(m,{className:"px-0",children:s.jsx(y,{className:"h-[500px] w-full px-3",children:s.jsx("div",{className:"flex flex-col gap-3",children:t?s.jsx(h,{show:!0}):a?.map(e=>s.jsx(g,{expense:e,showActions:!1},e.id))})})})]})},O=()=>{const r=l(e=>e.userId),{data:a,isLoading:t}=v(r);return s.jsx("div",{children:s.jsx("div",{className:"header-margin mb-5",children:s.jsxs("div",{className:"container mx-auto mt-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 m-4",children:[s.jsx(B,{}),s.jsx(C,{})]}),a&&a.length>0&&s.jsx("div",{className:"mt-4 px-4",children:s.jsx(I,{data:a,isLoading:t,dataKey:"book_name",chartTitle:"Monthly Expenses By Books",chartDescription:"Monthly expenses by books in last 12 months"})})]})})})};export{O as default};
