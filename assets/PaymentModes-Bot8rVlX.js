import{t as S,r as p,j as e,B as r,S as w}from"./index-C_Iz8dZ1.js";import{T as D,a as T,b as d,c as t,d as P,e as a}from"./table-DjyyNQEO.js";import{D as A,a as C,b as I,c as L,d as M,e as _,f as z,S as E,T as B,L as F}from"./Loader-CGz4uQcr.js";import{u as H,a as O,L as R,I as V,o as q,s as k}from"./schemas-8MO4LvMr.js";import{u as G,a as J}from"./paymentModeServices-BpU8hEEL.js";import"./index-GnqVebUw.js";const K=q({name:k().min(3,{message:"Name must be at least 3 characters long."}).max(50,{message:"Name cannot exceed 50 characters."})}),$=()=>{const l=S(s=>s.userId),[j,n]=p.useState(!1),{data:u,isLoading:b}=G(l),{register:g,handleSubmit:N,formState:{errors:i,isValid:f},reset:c}=H({resolver:O(K),defaultValues:{name:""}}),{mutate:y,isPending:o,isError:x,isSuccess:m,data:h}=J(),v=s=>{y({...s,user_id:l,is_active:!0})};return p.useEffect(()=>{!x&&m&&h&&(n(!1),c())},[h,m,x,c]),e.jsx("div",{className:"header-margin pb-5",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("div",{className:"flex justify-end p-3",children:e.jsxs(A,{open:j,onOpenChange:n,children:[e.jsx(C,{asChild:!0,children:e.jsx(r,{className:"rounded-xs",children:"Add New Payment Mode"})}),e.jsxs(I,{className:"sm:max-w-[425px]",children:[e.jsx(L,{children:e.jsx(M,{children:"Add New Payment Mode"})}),e.jsxs("form",{onSubmit:N(v),className:"flex flex-col gap-4",children:[e.jsx("div",{className:"grid gap-3",children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx(R,{htmlFor:"name",children:"Name"}),e.jsx(V,{type:"text",id:"name",...g("name")}),i.name&&e.jsx("p",{className:"text-sm text-red-500",children:i.name.message})]})}),e.jsxs(_,{children:[e.jsx(z,{asChild:!0,children:e.jsx(r,{variant:"outline",size:"sm",className:"rounded-xs",children:"Cancel"})}),e.jsxs(r,{type:"submit",size:"sm",className:"rounded-xs",disabled:o||!f,children:[o&&e.jsx(w,{})," Add"]})]})]})]})]})}),e.jsxs(D,{className:"mt-3 w-full border-collapse",children:[e.jsx(T,{children:e.jsxs(d,{className:"text-base",children:[e.jsx(t,{className:"px-4 py-2 text-left border border-gray-200",children:"Id"}),e.jsx(t,{className:"px-4 py-2 text-left border border-gray-200",children:"Name"}),e.jsx(t,{className:"px-4 py-2 text-left border border-gray-200",children:"Status"}),e.jsx(t,{className:"px-4 py-2 text-left border border-gray-200",children:"Created At"}),e.jsx(t,{className:"px-4 py-2 text-left border border-gray-200",children:"Actions"})]})}),e.jsxs(P,{children:[u?.map(s=>e.jsxs(d,{children:[e.jsx(a,{className:"px-4 py-2 font-medium border border-gray-200",children:s.id}),e.jsx(a,{className:"px-4 py-2 text-base font-medium border border-gray-200",children:s.name}),e.jsx(a,{className:"px-4 py-2 border border-gray-200",children:s.is_active?e.jsx("span",{className:"px-2 py-1 font-medium rounded-4xl bg-green-200 text-green-800",children:"Active"}):e.jsx("span",{className:"px-2 py-1 font-medium rounded-4xl bg-red-200 text-red-800",children:"Inactive"})}),e.jsx(a,{className:"px-4 py-2 border border-gray-200",children:s.created_at?new Date(s.created_at).toLocaleDateString():"-"}),e.jsx(a,{className:"px-4 py-2 border border-gray-200 w-fit",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"ghost",className:"text-zinc-400 hover:text-zinc-800",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",className:"text-red-400 hover:text-red-800",children:e.jsx(B,{className:"h-4 w-4"})})]})})]},s.id)),b&&e.jsx(d,{children:e.jsx(a,{colSpan:5,children:e.jsx(F,{show:!0})})})]})]})]})})};export{$ as default};
