import{u as n}from"./index-CNyThoSg.js";import{ab as u,M as t}from"./index-BDF_d_CJ.js";import{b as y}from"./schemas-CBLL2PDd.js";const a={all:["books"],allWithTotalExpenses:["books","totalExpenses"],detail:e=>["books",e],expenseSummaryOfBooks:["books","expenseSummary"],monthlyBookExpensesSummaryByCategory:e=>["books","monthlyBookExpensesSummaryByCategory",e]};function l(e){return n({queryKey:a.all,queryFn:async()=>{const{data:r,error:o}=await t.from("books").select("*").eq("user_id",e).order("created_at",{ascending:!1});if(o)throw o;return r}})}function p(){const e=u();return y({mutationFn:async r=>{const{data:o,error:s}=await t.from("books").insert([r]).select().single();if(s)throw s;return o},onSuccess:()=>{e.invalidateQueries({queryKey:a.all})}})}function k(e){return n({queryKey:a.allWithTotalExpenses,queryFn:async()=>{const{data:r,error:o}=await t.rpc("get_books_summary",{userid:e});if(o)throw o;return r}})}function f(e){return n({queryKey:a.expenseSummaryOfBooks,queryFn:async()=>{const{data:r,error:o}=await t.rpc("get_last_year_book_expenses",{userid:e});if(o)throw o;return r}})}function d(e,r){return n({queryKey:a.monthlyBookExpensesSummaryByCategory(r),queryFn:async()=>{const{data:o,error:s}=await t.rpc("get_monthly_book_expenses_summary_by_category",{userid:e,bookid:r});if(s)throw s;return o}})}export{a as B,d as a,p as b,k as c,f as d,l as u};
