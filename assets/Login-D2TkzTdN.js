import{K as j,t,j as e,B as b,S as w,L as f,z as N}from"./index-BDF_d_CJ.js";import{u as y,a as v,L as o,I as l,o as S,s as d}from"./schemas-CBLL2PDd.js";import{C as L,a as C,b as E,c as P,d as I}from"./card-C9QRniuc.js";import{u as F}from"./authServices-BDCIEc5b.js";const A=S({email:d().email("Invalid email address"),password:d().min(8,"Password must be at least 8 characters long").regex(/(?=.*[A-Z])/,"Password must contain at least one uppercase letter").regex(/(?=.*\d)/,"Password must contain at least one number").regex(/(?=.*[@#$%&*?!=])/,"Password must contain at least one special character (@#$%&*?!=)")});function $(){const n=j(),c=t(s=>s.setSession),m=t(s=>s.setError);t(s=>s.userId)&&n("/dashboard");const{mutate:u,isPending:x}=F(),{register:i,handleSubmit:h,formState:{errors:a,isValid:p}}=y({mode:"onTouched",reValidateMode:"onChange",resolver:v(A)}),g=async s=>{u(s,{onSuccess:r=>{c(r?.session),n("/dashboard")},onError:r=>{N.error("An error occurred during login.",{description:r.message}),m(r)}})};return e.jsx("div",{className:"min-h-screen",children:e.jsx("div",{className:"flex mt-5 flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:e.jsxs(L,{className:"w-full md:w-[350px] lg:w-[450px]",children:[e.jsxs(C,{className:"text-center",children:[e.jsx(E,{className:"text-2xl font-bold",children:"Login"}),e.jsx("p",{className:"text-gray-500 text-md mt-1",children:"Welcome back! Please enter your credentials"})]}),e.jsxs("form",{onSubmit:h(g),className:"space-y-4",children:[e.jsxs(P,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"email",children:"Email"}),e.jsx(l,{id:"email",type:"email",placeholder:"Enter your email",...i("email"),"aria-invalid":a.email?"true":"false"}),a.email&&e.jsx("p",{className:"text-sm text-red-500",children:a.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(o,{htmlFor:"password",children:"Password"}),e.jsx(l,{id:"password",type:"password",placeholder:"Enter your password",...i("password"),"aria-invalid":a.password?"true":"false"}),a.password&&e.jsx("p",{className:"text-sm text-red-500",children:a.password.message})]})]}),e.jsx(I,{children:e.jsx(b,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!p,children:x?e.jsxs(e.Fragment,{children:[e.jsx(w,{}),"Logging in..."]}):"Login"})})]}),e.jsxs("div",{className:"text-center text-sm text-gray-600",children:["Donâ€™t have an account?"," ",e.jsx(f,{to:"/register",className:"text-blue-600 hover:underline",children:"Register"})]})]})})})}export{$ as default};
