import{c as Ee,N as de,O as ve,Q as Kt,T as Ve,U as yt,V as go,r as d,j as p,W as Ae,X as Vt,z as vo,d as Pt,Y as wo,e as bo,Z as Ce,_ as xo,u as we,$ as So,P as te,f as se,C as Oe,a0 as ko,a1 as Ut,h as Co,a2 as Mo,A as Do,a3 as Oo,a4 as No,a5 as Eo,a6 as _o,a7 as Io,a8 as To,a9 as Wo,b as P,aa as Mt,ab as Ue,M as De,ac as Po,ad as Ro,ae as Bo,af as jo,ag as Ao,l as Fo,ah as Yo,ai as zo,aj as Ho,ak as $o,al as Lo,am as qo,an as Ko,ao as Zt,R as k,y as Rt,B as Vo}from"./index-C_Iz8dZ1.js";import{u as et,R as Uo,P as Zo,O as Go,C as Qo}from"./index-GnqVebUw.js";import{b as Ze}from"./schemas-8MO4LvMr.js";import{B as Dt}from"./bookServices-BT8ps4oR.js";/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xo=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Ni=Ee("calendar-days",Xo);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jo=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],er=Ee("check",Jo);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tr=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],nr=Ee("chevron-left",tr);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const or=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],rr=Ee("chevron-right",or);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sr=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],ar=Ee("chevron-up",sr);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ir=[["path",{d:"m7 15 5 5 5-5",key:"1hf1tw"}],["path",{d:"m7 9 5-5 5 5",key:"sgt6xg"}]],Ei=Ee("chevrons-up-down",ir);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lr=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],cr=Ee("search",lr);/**
 * @license lucide-react v0.548.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dr=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],_i=Ee("settings",dr);function Gt(e,t,n){const o=de(e,n?.in);return isNaN(t)?ve(e,NaN):(t&&o.setDate(o.getDate()+t),o)}function ur(e,t,n){return Gt(e,t*7,n)}function fr(e,t,n){return Kt(e,t*12,n)}function mr(e,t){let n,o=t?.in;return e.forEach(r=>{!o&&typeof r=="object"&&(o=ve.bind(null,r));const s=de(r,o);(!n||n<s||isNaN(+s))&&(n=s)}),ve(o,n||NaN)}function hr(e,t){let n,o=t?.in;return e.forEach(r=>{!o&&typeof r=="object"&&(o=ve.bind(null,r));const s=de(r,o);(!n||n>s||isNaN(+s))&&(n=s)}),ve(o,n||NaN)}function pr(e,t,n){const[o,r]=Ve(n?.in,e,t);return+yt(o)==+yt(r)}function yr(e,t,n){const[o,r]=Ve(n?.in,e,t),s=o.getFullYear()-r.getFullYear(),i=o.getMonth()-r.getMonth();return s*12+i}function Qt(e,t){const[n,o]=Ve(e,t.start,t.end);return{start:n,end:o}}function gr(e,t){const{start:n,end:o}=Qt(t?.in,e);let r=+n>+o;const s=r?+n:+o,i=r?o:n;i.setHours(0,0,0,0),i.setDate(1);let a=1;const l=[];for(;+i<=s;)l.push(ve(n,i)),i.setMonth(i.getMonth()+a);return r?l.reverse():l}function vr(e,t){const{start:n,end:o}=Qt(t?.in,e);let r=+n>+o;const s=r?+n:+o,i=r?o:n;i.setHours(0,0,0,0),i.setMonth(0,1);let a=1;const l=[];for(;+i<=s;)l.push(ve(n,i)),i.setFullYear(i.getFullYear()+a);return r?l.reverse():l}function Xt(e,t){const n=go(),o=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??n.weekStartsOn??n.locale?.options?.weekStartsOn??0,r=de(e,t?.in),s=r.getDay(),i=(s<o?-7:0)+6-(s-o);return r.setDate(r.getDate()+i),r.setHours(23,59,59,999),r}function wr(e,t){return Xt(e,{...t,weekStartsOn:1})}function br(e,t){const n=de(e,t?.in),o=n.getFullYear(),r=n.getMonth(),s=ve(n,0);return s.setFullYear(o,r+1,0),s.setHours(0,0,0,0),s.getDate()}function xr(e,t){return de(e,t?.in).getMonth()}function Sr(e,t){return de(e,t?.in).getFullYear()}function kr(e,t){return+de(e)>+de(t)}function Cr(e,t){return+de(e)<+de(t)}function Mr(e,t,n){const[o,r]=Ve(n?.in,e,t);return o.getFullYear()===r.getFullYear()&&o.getMonth()===r.getMonth()}function Dr(e,t,n){const[o,r]=Ve(n?.in,e,t);return o.getFullYear()===r.getFullYear()}function Or(e,t,n){const o=de(e,n?.in),r=o.getFullYear(),s=o.getDate(),i=ve(e,0);i.setFullYear(r,t,15),i.setHours(0,0,0,0);const a=br(i);return o.setMonth(t,Math.min(s,a)),o}function Nr(e,t,n){const o=de(e,n?.in);return isNaN(+o)?ve(e,NaN):(o.setFullYear(t),o)}function Bt(e,[t,n]){return Math.min(n,Math.max(t,e))}function Er(e){const t=_r(e),n=d.forwardRef((o,r)=>{const{children:s,...i}=o,a=d.Children.toArray(s),l=a.find(Tr);if(l){const c=l.props.children,f=a.map(u=>u===l?d.Children.count(c)>1?d.Children.only(null):d.isValidElement(c)?c.props.children:null:u);return p.jsx(t,{...i,ref:r,children:d.isValidElement(c)?d.cloneElement(c,void 0,f):null})}return p.jsx(t,{...i,ref:r,children:s})});return n.displayName=`${e}.Slot`,n}function _r(e){const t=d.forwardRef((n,o)=>{const{children:r,...s}=n;if(d.isValidElement(r)){const i=Pr(r),a=Wr(s,r.props);return r.type!==d.Fragment&&(a.ref=o?Ae(o,i):i),d.cloneElement(r,a)}return d.Children.count(r)>1?d.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Ir=Symbol("radix.slottable");function Tr(e){return d.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Ir}function Wr(e,t){const n={...t};for(const o in t){const r=e[o],s=t[o];/^on[A-Z]/.test(o)?r&&s?n[o]=(...a)=>{const l=s(...a);return r(...a),l}:r&&(n[o]=r):o==="style"?n[o]={...r,...s}:o==="className"&&(n[o]=[r,s].filter(Boolean).join(" "))}return{...e,...n}}function Pr(e){let t=Object.getOwnPropertyDescriptor(e.props,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=Object.getOwnPropertyDescriptor(e,"ref")?.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var Rr=[" ","Enter","ArrowUp","ArrowDown"],Br=[" ","Enter"],We="Select",[tt,nt,jr]=xo(We),[Fe]=bo(We,[jr,Vt]),ot=Vt(),[Ar,_e]=Fe(We),[Fr,Yr]=Fe(We),Jt=e=>{const{__scopeSelect:t,children:n,open:o,defaultOpen:r,onOpenChange:s,value:i,defaultValue:a,onValueChange:l,dir:c,name:f,autoComplete:u,disabled:h,required:v,form:D}=e,y=ot(t),[g,O]=d.useState(null),[w,b]=d.useState(null),[R,x]=d.useState(!1),C=vo(c),[S,I]=Pt({prop:o,defaultProp:r??!1,onChange:s,caller:We}),[$,L]=Pt({prop:i,defaultProp:a,onChange:l,caller:We}),H=d.useRef(null),K=g?D||!!g.closest("form"):!0,[oe,G]=d.useState(new Set),ee=Array.from(oe).map(Q=>Q.props.value).join(";");return p.jsx(wo,{...y,children:p.jsxs(Ar,{required:v,scope:t,trigger:g,onTriggerChange:O,valueNode:w,onValueNodeChange:b,valueNodeHasChildren:R,onValueNodeHasChildrenChange:x,contentId:Ce(),value:$,onValueChange:L,open:S,onOpenChange:I,dir:C,triggerPointerDownPosRef:H,disabled:h,children:[p.jsx(tt.Provider,{scope:t,children:p.jsx(Fr,{scope:e.__scopeSelect,onNativeOptionAdd:d.useCallback(Q=>{G(re=>new Set(re).add(Q))},[]),onNativeOptionRemove:d.useCallback(Q=>{G(re=>{const V=new Set(re);return V.delete(Q),V})},[]),children:n})}),K?p.jsxs(Cn,{"aria-hidden":!0,required:v,tabIndex:-1,name:f,autoComplete:u,value:$,onChange:Q=>L(Q.target.value),disabled:h,form:D,children:[$===void 0?p.jsx("option",{value:""}):null,Array.from(oe)]},ee):null]})})};Jt.displayName=We;var en="SelectTrigger",tn=d.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:o=!1,...r}=e,s=ot(n),i=_e(en,n),a=i.disabled||o,l=we(t,i.onTriggerChange),c=nt(n),f=d.useRef("touch"),[u,h,v]=Dn(y=>{const g=c().filter(b=>!b.disabled),O=g.find(b=>b.value===i.value),w=On(g,y,O);w!==void 0&&i.onValueChange(w.value)}),D=y=>{a||(i.onOpenChange(!0),v()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return p.jsx(So,{asChild:!0,...s,children:p.jsx(te.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":Mn(i.value)?"":void 0,...r,ref:l,onClick:se(r.onClick,y=>{y.currentTarget.focus(),f.current!=="mouse"&&D(y)}),onPointerDown:se(r.onPointerDown,y=>{f.current=y.pointerType;const g=y.target;g.hasPointerCapture(y.pointerId)&&g.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(D(y),y.preventDefault())}),onKeyDown:se(r.onKeyDown,y=>{const g=u.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&h(y.key),!(g&&y.key===" ")&&Rr.includes(y.key)&&(D(),y.preventDefault())})})})});tn.displayName=en;var nn="SelectValue",on=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:r,children:s,placeholder:i="",...a}=e,l=_e(nn,n),{onValueNodeHasChildrenChange:c}=l,f=s!==void 0,u=we(t,l.onValueNodeChange);return Oe(()=>{c(f)},[c,f]),p.jsx(te.span,{...a,ref:u,style:{pointerEvents:"none"},children:Mn(l.value)?p.jsx(p.Fragment,{children:i}):s})});on.displayName=nn;var zr="SelectIcon",rn=d.forwardRef((e,t)=>{const{__scopeSelect:n,children:o,...r}=e;return p.jsx(te.span,{"aria-hidden":!0,...r,ref:t,children:o||"â–¼"})});rn.displayName=zr;var Hr="SelectPortal",sn=e=>p.jsx(ko,{asChild:!0,...e});sn.displayName=Hr;var Pe="SelectContent",an=d.forwardRef((e,t)=>{const n=_e(Pe,e.__scopeSelect),[o,r]=d.useState();if(Oe(()=>{r(new DocumentFragment)},[]),!n.open){const s=o;return s?Ut.createPortal(p.jsx(ln,{scope:e.__scopeSelect,children:p.jsx(tt.Slot,{scope:e.__scopeSelect,children:p.jsx("div",{children:e.children})})}),s):null}return p.jsx(cn,{...e,ref:t})});an.displayName=Pe;var me=10,[ln,Ie]=Fe(Pe),$r="SelectContentImpl",Lr=Er("SelectContent.RemoveScroll"),cn=d.forwardRef((e,t)=>{const{__scopeSelect:n,position:o="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:s,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:u,collisionBoundary:h,collisionPadding:v,sticky:D,hideWhenDetached:y,avoidCollisions:g,...O}=e,w=_e(Pe,n),[b,R]=d.useState(null),[x,C]=d.useState(null),S=we(t,M=>R(M)),[I,$]=d.useState(null),[L,H]=d.useState(null),K=nt(n),[oe,G]=d.useState(!1),ee=d.useRef(!1);d.useEffect(()=>{if(b)return Oo(b)},[b]),No();const Q=d.useCallback(M=>{const[A,...F]=K().map(ne=>ne.ref.current),[z]=F.slice(-1),U=document.activeElement;for(const ne of M)if(ne===U||(ne?.scrollIntoView({block:"nearest"}),ne===A&&x&&(x.scrollTop=0),ne===z&&x&&(x.scrollTop=x.scrollHeight),ne?.focus(),document.activeElement!==U))return},[K,x]),re=d.useCallback(()=>Q([I,b]),[Q,I,b]);d.useEffect(()=>{oe&&re()},[oe,re]);const{onOpenChange:V,triggerPointerDownPosRef:X}=w;d.useEffect(()=>{if(b){let M={x:0,y:0};const A=z=>{M={x:Math.abs(Math.round(z.pageX)-(X.current?.x??0)),y:Math.abs(Math.round(z.pageY)-(X.current?.y??0))}},F=z=>{M.x<=10&&M.y<=10?z.preventDefault():b.contains(z.target)||V(!1),document.removeEventListener("pointermove",A),X.current=null};return X.current!==null&&(document.addEventListener("pointermove",A),document.addEventListener("pointerup",F,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",A),document.removeEventListener("pointerup",F,{capture:!0})}}},[b,V,X]),d.useEffect(()=>{const M=()=>V(!1);return window.addEventListener("blur",M),window.addEventListener("resize",M),()=>{window.removeEventListener("blur",M),window.removeEventListener("resize",M)}},[V]);const[ae,fe]=Dn(M=>{const A=K().filter(U=>!U.disabled),F=A.find(U=>U.ref.current===document.activeElement),z=On(A,M,F);z&&setTimeout(()=>z.ref.current.focus())}),m=d.useCallback((M,A,F)=>{const z=!ee.current&&!F;(w.value!==void 0&&w.value===A||z)&&($(M),z&&(ee.current=!0))},[w.value]),_=d.useCallback(()=>b?.focus(),[b]),T=d.useCallback((M,A,F)=>{const z=!ee.current&&!F;(w.value!==void 0&&w.value===A||z)&&H(M)},[w.value]),N=o==="popper"?gt:dn,j=N===gt?{side:a,sideOffset:l,align:c,alignOffset:f,arrowPadding:u,collisionBoundary:h,collisionPadding:v,sticky:D,hideWhenDetached:y,avoidCollisions:g}:{};return p.jsx(ln,{scope:n,content:b,viewport:x,onViewportChange:C,itemRefCallback:m,selectedItem:I,onItemLeave:_,itemTextRefCallback:T,focusSelectedItem:re,selectedItemText:L,position:o,isPositioned:oe,searchRef:ae,children:p.jsx(Eo,{as:Lr,allowPinchZoom:!0,children:p.jsx(_o,{asChild:!0,trapped:w.open,onMountAutoFocus:M=>{M.preventDefault()},onUnmountAutoFocus:se(r,M=>{w.trigger?.focus({preventScroll:!0}),M.preventDefault()}),children:p.jsx(Io,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:i,onFocusOutside:M=>M.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:p.jsx(N,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:M=>M.preventDefault(),...O,...j,onPlaced:()=>G(!0),ref:S,style:{display:"flex",flexDirection:"column",outline:"none",...O.style},onKeyDown:se(O.onKeyDown,M=>{const A=M.ctrlKey||M.altKey||M.metaKey;if(M.key==="Tab"&&M.preventDefault(),!A&&M.key.length===1&&fe(M.key),["ArrowUp","ArrowDown","Home","End"].includes(M.key)){let z=K().filter(U=>!U.disabled).map(U=>U.ref.current);if(["ArrowUp","End"].includes(M.key)&&(z=z.slice().reverse()),["ArrowUp","ArrowDown"].includes(M.key)){const U=M.target,ne=z.indexOf(U);z=z.slice(ne+1)}setTimeout(()=>Q(z)),M.preventDefault()}})})})})})})});cn.displayName=$r;var qr="SelectItemAlignedPosition",dn=d.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:o,...r}=e,s=_e(Pe,n),i=Ie(Pe,n),[a,l]=d.useState(null),[c,f]=d.useState(null),u=we(t,S=>f(S)),h=nt(n),v=d.useRef(!1),D=d.useRef(!0),{viewport:y,selectedItem:g,selectedItemText:O,focusSelectedItem:w}=i,b=d.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&y&&g&&O){const S=s.trigger.getBoundingClientRect(),I=c.getBoundingClientRect(),$=s.valueNode.getBoundingClientRect(),L=O.getBoundingClientRect();if(s.dir!=="rtl"){const U=L.left-I.left,ne=$.left-U,xe=S.left-ne,pe=S.width+xe,ze=Math.max(pe,I.width),He=window.innerWidth-me,$e=Bt(ne,[me,Math.max(me,He-ze)]);a.style.minWidth=pe+"px",a.style.left=$e+"px"}else{const U=I.right-L.right,ne=window.innerWidth-$.right-U,xe=window.innerWidth-S.right-ne,pe=S.width+xe,ze=Math.max(pe,I.width),He=window.innerWidth-me,$e=Bt(ne,[me,Math.max(me,He-ze)]);a.style.minWidth=pe+"px",a.style.right=$e+"px"}const H=h(),K=window.innerHeight-me*2,oe=y.scrollHeight,G=window.getComputedStyle(c),ee=parseInt(G.borderTopWidth,10),Q=parseInt(G.paddingTop,10),re=parseInt(G.borderBottomWidth,10),V=parseInt(G.paddingBottom,10),X=ee+Q+oe+V+re,ae=Math.min(g.offsetHeight*5,X),fe=window.getComputedStyle(y),m=parseInt(fe.paddingTop,10),_=parseInt(fe.paddingBottom,10),T=S.top+S.height/2-me,N=K-T,j=g.offsetHeight/2,M=g.offsetTop+j,A=ee+Q+M,F=X-A;if(A<=T){const U=H.length>0&&g===H[H.length-1].ref.current;a.style.bottom="0px";const ne=c.clientHeight-y.offsetTop-y.offsetHeight,xe=Math.max(N,j+(U?_:0)+ne+re),pe=A+xe;a.style.height=pe+"px"}else{const U=H.length>0&&g===H[0].ref.current;a.style.top="0px";const xe=Math.max(T,ee+y.offsetTop+(U?m:0)+j)+F;a.style.height=xe+"px",y.scrollTop=A-T+y.offsetTop}a.style.margin=`${me}px 0`,a.style.minHeight=ae+"px",a.style.maxHeight=K+"px",o?.(),requestAnimationFrame(()=>v.current=!0)}},[h,s.trigger,s.valueNode,a,c,y,g,O,s.dir,o]);Oe(()=>b(),[b]);const[R,x]=d.useState();Oe(()=>{c&&x(window.getComputedStyle(c).zIndex)},[c]);const C=d.useCallback(S=>{S&&D.current===!0&&(b(),w?.(),D.current=!1)},[b,w]);return p.jsx(Vr,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:v,onScrollButtonChange:C,children:p.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:R},children:p.jsx(te.div,{...r,ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});dn.displayName=qr;var Kr="SelectPopperPosition",gt=d.forwardRef((e,t)=>{const{__scopeSelect:n,align:o="start",collisionPadding:r=me,...s}=e,i=ot(n);return p.jsx(To,{...i,...s,ref:t,align:o,collisionPadding:r,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});gt.displayName=Kr;var[Vr,Ot]=Fe(Pe,{}),vt="SelectViewport",un=d.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:o,...r}=e,s=Ie(vt,n),i=Ot(vt,n),a=we(t,s.onViewportChange),l=d.useRef(0);return p.jsxs(p.Fragment,{children:[p.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:o}),p.jsx(tt.Slot,{scope:n,children:p.jsx(te.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:se(r.onScroll,c=>{const f=c.currentTarget,{contentWrapper:u,shouldExpandOnScrollRef:h}=i;if(h?.current&&u){const v=Math.abs(l.current-f.scrollTop);if(v>0){const D=window.innerHeight-me*2,y=parseFloat(u.style.minHeight),g=parseFloat(u.style.height),O=Math.max(y,g);if(O<D){const w=O+v,b=Math.min(D,w),R=w-b;u.style.height=b+"px",u.style.bottom==="0px"&&(f.scrollTop=R>0?R:0,u.style.justifyContent="flex-end")}}}l.current=f.scrollTop})})})]})});un.displayName=vt;var fn="SelectGroup",[Ur,Zr]=Fe(fn),mn=d.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,r=Ce();return p.jsx(Ur,{scope:n,id:r,children:p.jsx(te.div,{role:"group","aria-labelledby":r,...o,ref:t})})});mn.displayName=fn;var hn="SelectLabel",pn=d.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,r=Zr(hn,n);return p.jsx(te.div,{id:r.id,...o,ref:t})});pn.displayName=hn;var Je="SelectItem",[Gr,yn]=Fe(Je),gn=d.forwardRef((e,t)=>{const{__scopeSelect:n,value:o,disabled:r=!1,textValue:s,...i}=e,a=_e(Je,n),l=Ie(Je,n),c=a.value===o,[f,u]=d.useState(s??""),[h,v]=d.useState(!1),D=we(t,w=>l.itemRefCallback?.(w,o,r)),y=Ce(),g=d.useRef("touch"),O=()=>{r||(a.onValueChange(o),a.onOpenChange(!1))};if(o==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return p.jsx(Gr,{scope:n,value:o,disabled:r,textId:y,isSelected:c,onItemTextChange:d.useCallback(w=>{u(b=>b||(w?.textContent??"").trim())},[]),children:p.jsx(tt.ItemSlot,{scope:n,value:o,disabled:r,textValue:f,children:p.jsx(te.div,{role:"option","aria-labelledby":y,"data-highlighted":h?"":void 0,"aria-selected":c&&h,"data-state":c?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...i,ref:D,onFocus:se(i.onFocus,()=>v(!0)),onBlur:se(i.onBlur,()=>v(!1)),onClick:se(i.onClick,()=>{g.current!=="mouse"&&O()}),onPointerUp:se(i.onPointerUp,()=>{g.current==="mouse"&&O()}),onPointerDown:se(i.onPointerDown,w=>{g.current=w.pointerType}),onPointerMove:se(i.onPointerMove,w=>{g.current=w.pointerType,r?l.onItemLeave?.():g.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:se(i.onPointerLeave,w=>{w.currentTarget===document.activeElement&&l.onItemLeave?.()}),onKeyDown:se(i.onKeyDown,w=>{l.searchRef?.current!==""&&w.key===" "||(Br.includes(w.key)&&O(),w.key===" "&&w.preventDefault())})})})})});gn.displayName=Je;var qe="SelectItemText",vn=d.forwardRef((e,t)=>{const{__scopeSelect:n,className:o,style:r,...s}=e,i=_e(qe,n),a=Ie(qe,n),l=yn(qe,n),c=Yr(qe,n),[f,u]=d.useState(null),h=we(t,O=>u(O),l.onItemTextChange,O=>a.itemTextRefCallback?.(O,l.value,l.disabled)),v=f?.textContent,D=d.useMemo(()=>p.jsx("option",{value:l.value,disabled:l.disabled,children:v},l.value),[l.disabled,l.value,v]),{onNativeOptionAdd:y,onNativeOptionRemove:g}=c;return Oe(()=>(y(D),()=>g(D)),[y,g,D]),p.jsxs(p.Fragment,{children:[p.jsx(te.span,{id:l.textId,...s,ref:h}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ut.createPortal(s.children,i.valueNode):null]})});vn.displayName=qe;var wn="SelectItemIndicator",bn=d.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return yn(wn,n).isSelected?p.jsx(te.span,{"aria-hidden":!0,...o,ref:t}):null});bn.displayName=wn;var wt="SelectScrollUpButton",xn=d.forwardRef((e,t)=>{const n=Ie(wt,e.__scopeSelect),o=Ot(wt,e.__scopeSelect),[r,s]=d.useState(!1),i=we(t,o.onScrollButtonChange);return Oe(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),r?p.jsx(kn,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});xn.displayName=wt;var bt="SelectScrollDownButton",Sn=d.forwardRef((e,t)=>{const n=Ie(bt,e.__scopeSelect),o=Ot(bt,e.__scopeSelect),[r,s]=d.useState(!1),i=we(t,o.onScrollButtonChange);return Oe(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,f=Math.ceil(l.scrollTop)<c;s(f)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),r?p.jsx(kn,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});Sn.displayName=bt;var kn=d.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:o,...r}=e,s=Ie("SelectScrollButton",n),i=d.useRef(null),a=nt(n),l=d.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return d.useEffect(()=>()=>l(),[l]),Oe(()=>{a().find(f=>f.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[a]),p.jsx(te.div,{"aria-hidden":!0,...r,ref:t,style:{flexShrink:0,...r.style},onPointerDown:se(r.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(o,50))}),onPointerMove:se(r.onPointerMove,()=>{s.onItemLeave?.(),i.current===null&&(i.current=window.setInterval(o,50))}),onPointerLeave:se(r.onPointerLeave,()=>{l()})})}),Qr="SelectSeparator",Xr=d.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e;return p.jsx(te.div,{"aria-hidden":!0,...o,ref:t})});Xr.displayName=Qr;var xt="SelectArrow",Jr=d.forwardRef((e,t)=>{const{__scopeSelect:n,...o}=e,r=ot(n),s=_e(xt,n),i=Ie(xt,n);return s.open&&i.position==="popper"?p.jsx(Wo,{...r,...o,ref:t}):null});Jr.displayName=xt;var es="SelectBubbleInput",Cn=d.forwardRef(({__scopeSelect:e,value:t,...n},o)=>{const r=d.useRef(null),s=we(o,r),i=Co(t);return d.useEffect(()=>{const a=r.current;if(!a)return;const l=window.HTMLSelectElement.prototype,f=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&f){const u=new Event("change",{bubbles:!0});f.call(a,t),a.dispatchEvent(u)}},[i,t]),p.jsx(te.select,{...n,style:{...Mo,...n.style},ref:s,defaultValue:t})});Cn.displayName=es;function Mn(e){return e===""||e===void 0}function Dn(e){const t=Do(e),n=d.useRef(""),o=d.useRef(0),r=d.useCallback(i=>{const a=n.current+i;t(a),(function l(c){n.current=c,window.clearTimeout(o.current),c!==""&&(o.current=window.setTimeout(()=>l(""),1e3))})(a)},[t]),s=d.useCallback(()=>{n.current="",window.clearTimeout(o.current)},[]);return d.useEffect(()=>()=>window.clearTimeout(o.current),[]),[n,r,s]}function On(e,t,n){const r=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let i=ts(e,Math.max(s,0));r.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(r.toLowerCase()));return l!==n?l:void 0}function ts(e,t){return e.map((n,o)=>e[(t+o)%e.length])}var ns=Jt,os=tn,rs=on,ss=rn,as=sn,is=an,ls=un,cs=mn,ds=pn,us=gn,fs=vn,ms=bn,hs=xn,ps=Sn;function Ii({...e}){return p.jsx(ns,{"data-slot":"select",...e})}function Ti({...e}){return p.jsx(cs,{"data-slot":"select-group",...e})}function Wi({...e}){return p.jsx(rs,{"data-slot":"select-value",...e})}function Pi({className:e,size:t="default",children:n,...o}){return p.jsxs(os,{"data-slot":"select-trigger","data-size":t,className:P("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-fit items-center justify-between gap-2 rounded-md border bg-transparent px-3 py-2 text-sm whitespace-nowrap shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...o,children:[n,p.jsx(ss,{asChild:!0,children:p.jsx(Mt,{className:"size-4 opacity-50"})})]})}function Ri({className:e,children:t,position:n="popper",align:o="center",...r}){return p.jsx(as,{children:p.jsxs(is,{"data-slot":"select-content",className:P("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,align:o,...r,children:[p.jsx(ys,{}),p.jsx(ls,{className:P("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:t}),p.jsx(gs,{})]})})}function Bi({className:e,...t}){return p.jsx(ds,{"data-slot":"select-label",className:P("text-muted-foreground px-2 py-1.5 text-xs",e),...t})}function ji({className:e,children:t,...n}){return p.jsxs(us,{"data-slot":"select-item",className:P("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",e),...n,children:[p.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:p.jsx(ms,{children:p.jsx(er,{className:"size-4"})})}),p.jsx(fs,{children:t})]})}function ys({className:e,...t}){return p.jsx(hs,{"data-slot":"select-scroll-up-button",className:P("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(ar,{className:"size-4"})})}function gs({className:e,...t}){return p.jsx(ps,{"data-slot":"select-scroll-down-button",className:P("flex cursor-default items-center justify-center py-1",e),...t,children:p.jsx(Mt,{className:"size-4"})})}const Me={all:["expenses"],byBook:(e,t,n)=>["expenses",{bookId:e,userId:t,...n}],total:(e,t,n)=>["total",{bookId:e,userId:t,...n}],top:e=>["top_expenses",e]};function Nn(e,t){if(t.startDate&&(e=e.gte("date",t.startDate)),t.endDate&&(e=e.lte("date",t.endDate)),t.categoryIds?.length&&(e=e.in("category_id",t.categoryIds)),t.paymentModeIds?.length&&(e=e.in("payment_mode_id",t.paymentModeIds)),t.searchQuery?.trim()){const n=t.searchQuery.trim();e.ilike("remark",`%${n}%`)}if(t.amountQuery){const{condition:n,amount:o}=t.amountQuery;o&&o>0&&(n==="gte"?e=e.gte("amount",o):n==="lte"&&(e=e.lte("amount",o)))}return e}function Ai(e,t,n={}){return et({queryKey:Me.byBook(e,t,n),placeholderData:Ro,queryFn:async()=>{const{page:o=1,pageSize:r=25,...s}=n,i=(o-1)*r,a=i+r-1;let l=De.from("expenses").select("*, categories ( name ), payment_modes ( name )",{count:"exact"}).eq("book_id",e).eq("user_id",t);l=Nn(l,s),l=l.order("date",{ascending:!1}).range(i,a);const{data:c,error:f,count:u}=await l;if(f)throw f;const h=u??0;return{data:c,meta:{totalItems:h,totalPages:Math.ceil(h/r),currentPage:o,from:h===0?0:i+1,to:h===0?0:Math.min(a+1,h)}}},enabled:!!e})}function Fi(e,t){const n=Ue();return Ze({mutationFn:async o=>{const{data:r,error:s}=await De.from("expenses").insert([o]).select().single();if(s)throw s;return r},onSuccess:()=>{n.invalidateQueries({queryKey:Me.byBook(e,t,{})}),n.invalidateQueries({queryKey:Me.total(e,t,{})}),n.invalidateQueries({queryKey:Dt.monthlyBookExpensesSummaryByCategory(e)})}})}function Yi(e,t){const n=Ue();return Ze({mutationFn:async({id:o,...r})=>{const{data:s,error:i}=await De.from("expenses").update(r).eq("id",o).select().single();if(i)throw i;return s},onSuccess:()=>{n.invalidateQueries({queryKey:Me.byBook(e,t,{})}),n.invalidateQueries({queryKey:Me.total(e,t,{})}),n.invalidateQueries({queryKey:Dt.monthlyBookExpensesSummaryByCategory(e)})}})}function zi(e,t){const n=Ue();return Ze({mutationFn:async o=>{const{error:r}=await De.from("expenses").delete().eq("id",o);if(r)throw r},onSuccess:()=>{n.invalidateQueries({queryKey:Me.byBook(e,t,{})}),n.invalidateQueries({queryKey:Me.total(e,t,{})}),n.invalidateQueries({queryKey:Dt.monthlyBookExpensesSummaryByCategory(e)})}})}function Hi(e,t,n={}){return et({queryKey:Me.total(e,t,n),queryFn:async()=>{let o=De.from("expenses").select("amount.sum()").eq("book_id",e).eq("user_id",t);o=Nn(o,n);const{data:r,error:s}=await o;if(s)throw s;return r},enabled:!!e})}function $i(e){const{startDate:t,endDate:n}=Po();return et({queryKey:Me.top(e),queryFn:async()=>{const{data:o,error:r}=await De.from("expenses").select("*, categories ( name ), payment_modes ( name )",{count:"exact"}).eq("user_id",e).gte("date",t).lte("date",n).order("amount",{ascending:!1}).limit(10);if(r)throw r;return o},enabled:!!e})}function vs(e,t,n="long"){return new Intl.DateTimeFormat("en-US",{hour:"numeric",timeZone:e,timeZoneName:n}).format(t).split(/\s/g).slice(2).join(" ")}const ws={},Ke={};function Te(e,t){try{const o=(ws[e]||=new Intl.DateTimeFormat("en-US",{timeZone:e,timeZoneName:"longOffset"}).format)(t).split("GMT")[1];return o in Ke?Ke[o]:jt(o,o.split(":"))}catch{if(e in Ke)return Ke[e];const n=e?.match(bs);return n?jt(e,n.slice(1)):NaN}}const bs=/([+-]\d\d):?(\d\d)?/;function jt(e,t){const n=+(t[0]||0),o=+(t[1]||0),r=+(t[2]||0)/60;return Ke[e]=n*60+o>0?n*60+o+r:n*60-o-r}class ge extends Date{constructor(...t){super(),t.length>1&&typeof t[t.length-1]=="string"&&(this.timeZone=t.pop()),this.internal=new Date,isNaN(Te(this.timeZone,this))?this.setTime(NaN):t.length?typeof t[0]=="number"&&(t.length===1||t.length===2&&typeof t[1]!="number")?this.setTime(t[0]):typeof t[0]=="string"?this.setTime(+new Date(t[0])):t[0]instanceof Date?this.setTime(+t[0]):(this.setTime(+new Date(...t)),En(this),St(this)):this.setTime(Date.now())}static tz(t,...n){return n.length?new ge(...n,t):new ge(Date.now(),t)}withTimeZone(t){return new ge(+this,t)}getTimezoneOffset(){const t=-Te(this.timeZone,this);return t>0?Math.floor(t):Math.ceil(t)}setTime(t){return Date.prototype.setTime.apply(this,arguments),St(this),+this}[Symbol.for("constructDateFrom")](t){return new ge(+new Date(t),this.timeZone)}}const At=/^(get|set)(?!UTC)/;Object.getOwnPropertyNames(Date.prototype).forEach(e=>{if(!At.test(e))return;const t=e.replace(At,"$1UTC");ge.prototype[t]&&(e.startsWith("get")?ge.prototype[e]=function(){return this.internal[t]()}:(ge.prototype[e]=function(){return Date.prototype[t].apply(this.internal,arguments),xs(this),+this},ge.prototype[t]=function(){return Date.prototype[t].apply(this,arguments),St(this),+this}))});function St(e){e.internal.setTime(+e),e.internal.setUTCSeconds(e.internal.getUTCSeconds()-Math.round(-Te(e.timeZone,e)*60))}function xs(e){Date.prototype.setFullYear.call(e,e.internal.getUTCFullYear(),e.internal.getUTCMonth(),e.internal.getUTCDate()),Date.prototype.setHours.call(e,e.internal.getUTCHours(),e.internal.getUTCMinutes(),e.internal.getUTCSeconds(),e.internal.getUTCMilliseconds()),En(e)}function En(e){const t=Te(e.timeZone,e),n=t>0?Math.floor(t):Math.ceil(t),o=new Date(+e);o.setUTCHours(o.getUTCHours()-1);const r=-new Date(+e).getTimezoneOffset(),s=-new Date(+o).getTimezoneOffset(),i=r-s,a=Date.prototype.getHours.apply(e)!==e.internal.getUTCHours();i&&a&&e.internal.setUTCMinutes(e.internal.getUTCMinutes()+i);const l=r-n;l&&Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+l);const c=new Date(+e);c.setUTCSeconds(0);const f=r>0?c.getSeconds():(c.getSeconds()-60)%60,u=Math.round(-(Te(e.timeZone,e)*60))%60;(u||f)&&(e.internal.setUTCSeconds(e.internal.getUTCSeconds()+u),Date.prototype.setUTCSeconds.call(e,Date.prototype.getUTCSeconds.call(e)+u+f));const h=Te(e.timeZone,e),v=h>0?Math.floor(h):Math.ceil(h),y=-new Date(+e).getTimezoneOffset()-v,g=v!==n,O=y-l;if(g&&O){Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+O);const w=Te(e.timeZone,e),b=w>0?Math.floor(w):Math.ceil(w),R=v-b;R&&(e.internal.setUTCMinutes(e.internal.getUTCMinutes()+R),Date.prototype.setUTCMinutes.call(e,Date.prototype.getUTCMinutes.call(e)+R))}}class ie extends ge{static tz(t,...n){return n.length?new ie(...n,t):new ie(Date.now(),t)}toISOString(){const[t,n,o]=this.tzComponents(),r=`${t}${n}:${o}`;return this.internal.toISOString().slice(0,-1)+r}toString(){return`${this.toDateString()} ${this.toTimeString()}`}toDateString(){const[t,n,o,r]=this.internal.toUTCString().split(" ");return`${t?.slice(0,-1)} ${o} ${n} ${r}`}toTimeString(){const t=this.internal.toUTCString().split(" ")[4],[n,o,r]=this.tzComponents();return`${t} GMT${n}${o}${r} (${vs(this.timeZone,this)})`}toLocaleString(t,n){return Date.prototype.toLocaleString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleDateString(t,n){return Date.prototype.toLocaleDateString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}toLocaleTimeString(t,n){return Date.prototype.toLocaleTimeString.call(this,t,{...n,timeZone:n?.timeZone||this.timeZone})}tzComponents(){const t=this.getTimezoneOffset(),n=t>0?"-":"+",o=String(Math.floor(Math.abs(t)/60)).padStart(2,"0"),r=String(Math.abs(t)%60).padStart(2,"0");return[n,o,r]}withTimeZone(t){return new ie(+this,t)}[Symbol.for("constructDateFrom")](t){return new ie(+new Date(t),this.timeZone)}}const Ft=5,Ss=4;function ks(e,t){const n=t.startOfMonth(e),o=n.getDay()>0?n.getDay():7,r=t.addDays(e,-o+1),s=t.addDays(r,Ft*7-1);return t.getMonth(e)===t.getMonth(s)?Ft:Ss}function _n(e,t){const n=t.startOfMonth(e),o=n.getDay();return o===1?n:o===0?t.addDays(n,-6):t.addDays(n,-1*(o-1))}function Cs(e,t){const n=_n(e,t),o=ks(e,t);return t.addDays(n,o*7-1)}class ue{constructor(t,n){this.Date=Date,this.today=()=>this.overrides?.today?this.overrides.today():this.options.timeZone?ie.tz(this.options.timeZone):new this.Date,this.newDate=(o,r,s)=>this.overrides?.newDate?this.overrides.newDate(o,r,s):this.options.timeZone?new ie(o,r,s,this.options.timeZone):new Date(o,r,s),this.addDays=(o,r)=>this.overrides?.addDays?this.overrides.addDays(o,r):Gt(o,r),this.addMonths=(o,r)=>this.overrides?.addMonths?this.overrides.addMonths(o,r):Kt(o,r),this.addWeeks=(o,r)=>this.overrides?.addWeeks?this.overrides.addWeeks(o,r):ur(o,r),this.addYears=(o,r)=>this.overrides?.addYears?this.overrides.addYears(o,r):fr(o,r),this.differenceInCalendarDays=(o,r)=>this.overrides?.differenceInCalendarDays?this.overrides.differenceInCalendarDays(o,r):Bo(o,r),this.differenceInCalendarMonths=(o,r)=>this.overrides?.differenceInCalendarMonths?this.overrides.differenceInCalendarMonths(o,r):yr(o,r),this.eachMonthOfInterval=o=>this.overrides?.eachMonthOfInterval?this.overrides.eachMonthOfInterval(o):gr(o),this.eachYearOfInterval=o=>{const r=this.overrides?.eachYearOfInterval?this.overrides.eachYearOfInterval(o):vr(o),s=new Set(r.map(a=>this.getYear(a)));if(s.size===r.length)return r;const i=[];return s.forEach(a=>{i.push(new Date(a,0,1))}),i},this.endOfBroadcastWeek=o=>this.overrides?.endOfBroadcastWeek?this.overrides.endOfBroadcastWeek(o):Cs(o,this),this.endOfISOWeek=o=>this.overrides?.endOfISOWeek?this.overrides.endOfISOWeek(o):wr(o),this.endOfMonth=o=>this.overrides?.endOfMonth?this.overrides.endOfMonth(o):jo(o),this.endOfWeek=(o,r)=>this.overrides?.endOfWeek?this.overrides.endOfWeek(o,r):Xt(o,this.options),this.endOfYear=o=>this.overrides?.endOfYear?this.overrides.endOfYear(o):Ao(o),this.format=(o,r,s)=>{const i=this.overrides?.format?this.overrides.format(o,r,this.options):Fo(o,r,this.options);return this.options.numerals&&this.options.numerals!=="latn"?this.replaceDigits(i):i},this.getISOWeek=o=>this.overrides?.getISOWeek?this.overrides.getISOWeek(o):Yo(o),this.getMonth=(o,r)=>this.overrides?.getMonth?this.overrides.getMonth(o,this.options):xr(o,this.options),this.getYear=(o,r)=>this.overrides?.getYear?this.overrides.getYear(o,this.options):Sr(o,this.options),this.getWeek=(o,r)=>this.overrides?.getWeek?this.overrides.getWeek(o,this.options):zo(o,this.options),this.isAfter=(o,r)=>this.overrides?.isAfter?this.overrides.isAfter(o,r):kr(o,r),this.isBefore=(o,r)=>this.overrides?.isBefore?this.overrides.isBefore(o,r):Cr(o,r),this.isDate=o=>this.overrides?.isDate?this.overrides.isDate(o):Ho(o),this.isSameDay=(o,r)=>this.overrides?.isSameDay?this.overrides.isSameDay(o,r):pr(o,r),this.isSameMonth=(o,r)=>this.overrides?.isSameMonth?this.overrides.isSameMonth(o,r):Mr(o,r),this.isSameYear=(o,r)=>this.overrides?.isSameYear?this.overrides.isSameYear(o,r):Dr(o,r),this.max=o=>this.overrides?.max?this.overrides.max(o):mr(o),this.min=o=>this.overrides?.min?this.overrides.min(o):hr(o),this.setMonth=(o,r)=>this.overrides?.setMonth?this.overrides.setMonth(o,r):Or(o,r),this.setYear=(o,r)=>this.overrides?.setYear?this.overrides.setYear(o,r):Nr(o,r),this.startOfBroadcastWeek=(o,r)=>this.overrides?.startOfBroadcastWeek?this.overrides.startOfBroadcastWeek(o,this):_n(o,this),this.startOfDay=o=>this.overrides?.startOfDay?this.overrides.startOfDay(o):yt(o),this.startOfISOWeek=o=>this.overrides?.startOfISOWeek?this.overrides.startOfISOWeek(o):$o(o),this.startOfMonth=o=>this.overrides?.startOfMonth?this.overrides.startOfMonth(o):Lo(o),this.startOfWeek=(o,r)=>this.overrides?.startOfWeek?this.overrides.startOfWeek(o,this.options):qo(o,this.options),this.startOfYear=o=>this.overrides?.startOfYear?this.overrides.startOfYear(o):Ko(o),this.options={locale:Zt,...t},this.overrides=n}getDigitMap(){const{numerals:t="latn"}=this.options,n=new Intl.NumberFormat("en-US",{numberingSystem:t}),o={};for(let r=0;r<10;r++)o[r.toString()]=n.format(r);return o}replaceDigits(t){const n=this.getDigitMap();return t.replace(/\d/g,o=>n[o]||o)}formatNumber(t){return this.replaceDigits(t.toString())}getMonthYearOrder(){const t=this.options.locale?.code;return t&&ue.yearFirstLocales.has(t)?"year-first":"month-first"}formatMonthYear(t){const{locale:n,timeZone:o,numerals:r}=this.options,s=n?.code;if(s&&ue.yearFirstLocales.has(s))try{return new Intl.DateTimeFormat(s,{month:"long",year:"numeric",timeZone:o,numberingSystem:r}).format(t)}catch{}const i=this.getMonthYearOrder()==="year-first"?"y LLLL":"LLLL y";return this.format(t,i)}}ue.yearFirstLocales=new Set(["eu","hu","ja","ja-Hira","ja-JP","ko","ko-KR","lt","lt-LT","lv","lv-LV","mn","mn-MN","zh","zh-CN","zh-HK","zh-TW"]);const be=new ue;class In{constructor(t,n,o=be){this.date=t,this.displayMonth=n,this.outside=!!(n&&!o.isSameMonth(t,n)),this.dateLib=o}isEqualTo(t){return this.dateLib.isSameDay(t.date,this.date)&&this.dateLib.isSameMonth(t.displayMonth,this.displayMonth)}}class Ms{constructor(t,n){this.date=t,this.weeks=n}}class Ds{constructor(t,n){this.days=n,this.weekNumber=t}}function Os(e){return k.createElement("button",{...e})}function Ns(e){return k.createElement("span",{...e})}function Es(e){const{size:t=24,orientation:n="left",className:o}=e;return k.createElement("svg",{className:o,width:t,height:t,viewBox:"0 0 24 24"},n==="up"&&k.createElement("polygon",{points:"6.77 17 12.5 11.43 18.24 17 20 15.28 12.5 8 5 15.28"}),n==="down"&&k.createElement("polygon",{points:"6.77 8 12.5 13.57 18.24 8 20 9.72 12.5 17 5 9.72"}),n==="left"&&k.createElement("polygon",{points:"16 18.112 9.81111111 12 16 5.87733333 14.0888889 4 6 12 14.0888889 20"}),n==="right"&&k.createElement("polygon",{points:"8 18.112 14.18888889 12 8 5.87733333 9.91111111 4 18 12 9.91111111 20"}))}function _s(e){const{day:t,modifiers:n,...o}=e;return k.createElement("td",{...o})}function Is(e){const{day:t,modifiers:n,...o}=e,r=k.useRef(null);return k.useEffect(()=>{n.focused&&r.current?.focus()},[n.focused]),k.createElement("button",{ref:r,...o})}var E;(function(e){e.Root="root",e.Chevron="chevron",e.Day="day",e.DayButton="day_button",e.CaptionLabel="caption_label",e.Dropdowns="dropdowns",e.Dropdown="dropdown",e.DropdownRoot="dropdown_root",e.Footer="footer",e.MonthGrid="month_grid",e.MonthCaption="month_caption",e.MonthsDropdown="months_dropdown",e.Month="month",e.Months="months",e.Nav="nav",e.NextMonthButton="button_next",e.PreviousMonthButton="button_previous",e.Week="week",e.Weeks="weeks",e.Weekday="weekday",e.Weekdays="weekdays",e.WeekNumber="week_number",e.WeekNumberHeader="week_number_header",e.YearsDropdown="years_dropdown"})(E||(E={}));var J;(function(e){e.disabled="disabled",e.hidden="hidden",e.outside="outside",e.focused="focused",e.today="today"})(J||(J={}));var he;(function(e){e.range_end="range_end",e.range_middle="range_middle",e.range_start="range_start",e.selected="selected"})(he||(he={}));var ce;(function(e){e.weeks_before_enter="weeks_before_enter",e.weeks_before_exit="weeks_before_exit",e.weeks_after_enter="weeks_after_enter",e.weeks_after_exit="weeks_after_exit",e.caption_after_enter="caption_after_enter",e.caption_after_exit="caption_after_exit",e.caption_before_enter="caption_before_enter",e.caption_before_exit="caption_before_exit"})(ce||(ce={}));function Ts(e){const{options:t,className:n,components:o,classNames:r,...s}=e,i=[r[E.Dropdown],n].join(" "),a=t?.find(({value:l})=>l===s.value);return k.createElement("span",{"data-disabled":s.disabled,className:r[E.DropdownRoot]},k.createElement(o.Select,{className:i,...s},t?.map(({value:l,label:c,disabled:f})=>k.createElement(o.Option,{key:l,value:l,disabled:f},c))),k.createElement("span",{className:r[E.CaptionLabel],"aria-hidden":!0},a?.label,k.createElement(o.Chevron,{orientation:"down",size:18,className:r[E.Chevron]})))}function Ws(e){return k.createElement("div",{...e})}function Ps(e){return k.createElement("div",{...e})}function Rs(e){const{calendarMonth:t,displayIndex:n,...o}=e;return k.createElement("div",{...o},e.children)}function Bs(e){const{calendarMonth:t,displayIndex:n,...o}=e;return k.createElement("div",{...o})}function js(e){return k.createElement("table",{...e})}function As(e){return k.createElement("div",{...e})}const Tn=d.createContext(void 0);function Ge(){const e=d.useContext(Tn);if(e===void 0)throw new Error("useDayPicker() must be used within a custom component.");return e}function Fs(e){const{components:t}=Ge();return k.createElement(t.Dropdown,{...e})}function Ys(e){const{onPreviousClick:t,onNextClick:n,previousMonth:o,nextMonth:r,...s}=e,{components:i,classNames:a,labels:{labelPrevious:l,labelNext:c}}=Ge(),f=d.useCallback(h=>{r&&n?.(h)},[r,n]),u=d.useCallback(h=>{o&&t?.(h)},[o,t]);return k.createElement("nav",{...s},k.createElement(i.PreviousMonthButton,{type:"button",className:a[E.PreviousMonthButton],tabIndex:o?void 0:-1,"aria-disabled":o?void 0:!0,"aria-label":l(o),onClick:u},k.createElement(i.Chevron,{disabled:o?void 0:!0,className:a[E.Chevron],orientation:"left"})),k.createElement(i.NextMonthButton,{type:"button",className:a[E.NextMonthButton],tabIndex:r?void 0:-1,"aria-disabled":r?void 0:!0,"aria-label":c(r),onClick:f},k.createElement(i.Chevron,{disabled:r?void 0:!0,orientation:"right",className:a[E.Chevron]})))}function zs(e){const{components:t}=Ge();return k.createElement(t.Button,{...e})}function Hs(e){return k.createElement("option",{...e})}function $s(e){const{components:t}=Ge();return k.createElement(t.Button,{...e})}function Ls(e){const{rootRef:t,...n}=e;return k.createElement("div",{...n,ref:t})}function qs(e){return k.createElement("select",{...e})}function Ks(e){const{week:t,...n}=e;return k.createElement("tr",{...n})}function Vs(e){return k.createElement("th",{...e})}function Us(e){return k.createElement("thead",{"aria-hidden":!0},k.createElement("tr",{...e}))}function Zs(e){const{week:t,...n}=e;return k.createElement("th",{...n})}function Gs(e){return k.createElement("th",{...e})}function Qs(e){return k.createElement("tbody",{...e})}function Xs(e){const{components:t}=Ge();return k.createElement(t.Dropdown,{...e})}const Js=Object.freeze(Object.defineProperty({__proto__:null,Button:Os,CaptionLabel:Ns,Chevron:Es,Day:_s,DayButton:Is,Dropdown:Ts,DropdownNav:Ws,Footer:Ps,Month:Rs,MonthCaption:Bs,MonthGrid:js,Months:As,MonthsDropdown:Fs,Nav:Ys,NextMonthButton:zs,Option:Hs,PreviousMonthButton:$s,Root:Ls,Select:qs,Week:Ks,WeekNumber:Zs,WeekNumberHeader:Gs,Weekday:Vs,Weekdays:Us,Weeks:Qs,YearsDropdown:Xs},Symbol.toStringTag,{value:"Module"}));function Se(e,t,n=!1,o=be){let{from:r,to:s}=e;const{differenceInCalendarDays:i,isSameDay:a}=o;return r&&s?(i(s,r)<0&&([r,s]=[s,r]),i(t,r)>=(n?1:0)&&i(s,t)>=(n?1:0)):!n&&s?a(s,t):!n&&r?a(r,t):!1}function Wn(e){return!!(e&&typeof e=="object"&&"before"in e&&"after"in e)}function Nt(e){return!!(e&&typeof e=="object"&&"from"in e)}function Pn(e){return!!(e&&typeof e=="object"&&"after"in e)}function Rn(e){return!!(e&&typeof e=="object"&&"before"in e)}function Bn(e){return!!(e&&typeof e=="object"&&"dayOfWeek"in e)}function jn(e,t){return Array.isArray(e)&&e.every(t.isDate)}function ke(e,t,n=be){const o=Array.isArray(t)?t:[t],{isSameDay:r,differenceInCalendarDays:s,isAfter:i}=n;return o.some(a=>{if(typeof a=="boolean")return a;if(n.isDate(a))return r(e,a);if(jn(a,n))return a.includes(e);if(Nt(a))return Se(a,e,!1,n);if(Bn(a))return Array.isArray(a.dayOfWeek)?a.dayOfWeek.includes(e.getDay()):a.dayOfWeek===e.getDay();if(Wn(a)){const l=s(a.before,e),c=s(a.after,e),f=l>0,u=c<0;return i(a.before,a.after)?u&&f:f||u}return Pn(a)?s(e,a.after)>0:Rn(a)?s(a.before,e)>0:typeof a=="function"?a(e):!1})}function ea(e,t,n,o,r){const{disabled:s,hidden:i,modifiers:a,showOutsideDays:l,broadcastCalendar:c,today:f}=t,{isSameDay:u,isSameMonth:h,startOfMonth:v,isBefore:D,endOfMonth:y,isAfter:g}=r,O=n&&v(n),w=o&&y(o),b={[J.focused]:[],[J.outside]:[],[J.disabled]:[],[J.hidden]:[],[J.today]:[]},R={};for(const x of e){const{date:C,displayMonth:S}=x,I=!!(S&&!h(C,S)),$=!!(O&&D(C,O)),L=!!(w&&g(C,w)),H=!!(s&&ke(C,s,r)),K=!!(i&&ke(C,i,r))||$||L||!c&&!l&&I||c&&l===!1&&I,oe=u(C,f??r.today());I&&b.outside.push(x),H&&b.disabled.push(x),K&&b.hidden.push(x),oe&&b.today.push(x),a&&Object.keys(a).forEach(G=>{const ee=a?.[G];ee&&ke(C,ee,r)&&(R[G]?R[G].push(x):R[G]=[x])})}return x=>{const C={[J.focused]:!1,[J.disabled]:!1,[J.hidden]:!1,[J.outside]:!1,[J.today]:!1},S={};for(const I in b){const $=b[I];C[I]=$.some(L=>L===x)}for(const I in R)S[I]=R[I].some($=>$===x);return{...C,...S}}}function ta(e,t,n={}){return Object.entries(e).filter(([,r])=>r===!0).reduce((r,[s])=>(n[s]?r.push(n[s]):t[J[s]]?r.push(t[J[s]]):t[he[s]]&&r.push(t[he[s]]),r),[t[E.Day]])}function na(e){return{...Js,...e}}function oa(e){const t={"data-mode":e.mode??void 0,"data-required":"required"in e?e.required:void 0,"data-multiple-months":e.numberOfMonths&&e.numberOfMonths>1||void 0,"data-week-numbers":e.showWeekNumber||void 0,"data-broadcast-calendar":e.broadcastCalendar||void 0,"data-nav-layout":e.navLayout||void 0};return Object.entries(e).forEach(([n,o])=>{n.startsWith("data-")&&(t[n]=o)}),t}function Et(){const e={};for(const t in E)e[E[t]]=`rdp-${E[t]}`;for(const t in J)e[J[t]]=`rdp-${J[t]}`;for(const t in he)e[he[t]]=`rdp-${he[t]}`;for(const t in ce)e[ce[t]]=`rdp-${ce[t]}`;return e}function An(e,t,n){return(n??new ue(t)).formatMonthYear(e)}const ra=An;function sa(e,t,n){return(n??new ue(t)).format(e,"d")}function aa(e,t=be){return t.format(e,"LLLL")}function ia(e,t,n){return(n??new ue(t)).format(e,"cccccc")}function la(e,t=be){return e<10?t.formatNumber(`0${e.toLocaleString()}`):t.formatNumber(`${e.toLocaleString()}`)}function ca(){return""}function Fn(e,t=be){return t.format(e,"yyyy")}const da=Fn,ua=Object.freeze(Object.defineProperty({__proto__:null,formatCaption:An,formatDay:sa,formatMonthCaption:ra,formatMonthDropdown:aa,formatWeekNumber:la,formatWeekNumberHeader:ca,formatWeekdayName:ia,formatYearCaption:da,formatYearDropdown:Fn},Symbol.toStringTag,{value:"Module"}));function fa(e){return e?.formatMonthCaption&&!e.formatCaption&&(e.formatCaption=e.formatMonthCaption),e?.formatYearCaption&&!e.formatYearDropdown&&(e.formatYearDropdown=e.formatYearCaption),{...ua,...e}}function ma(e,t,n,o,r){const{startOfMonth:s,startOfYear:i,endOfYear:a,eachMonthOfInterval:l,getMonth:c}=r;return l({start:i(e),end:a(e)}).map(h=>{const v=o.formatMonthDropdown(h,r),D=c(h),y=t&&h<s(t)||n&&h>s(n)||!1;return{value:D,label:v,disabled:y}})}function ha(e,t={},n={}){let o={...t?.[E.Day]};return Object.entries(e).filter(([,r])=>r===!0).forEach(([r])=>{o={...o,...n?.[r]}}),o}function pa(e,t,n){const o=e.today(),r=t?e.startOfISOWeek(o):e.startOfWeek(o),s=[];for(let i=0;i<7;i++){const a=e.addDays(r,i);s.push(a)}return s}function ya(e,t,n,o,r=!1){if(!e||!t)return;const{startOfYear:s,endOfYear:i,eachYearOfInterval:a,getYear:l}=o,c=s(e),f=i(t),u=a({start:c,end:f});return r&&u.reverse(),u.map(h=>{const v=n.formatYearDropdown(h,o);return{value:l(h),label:v,disabled:!1}})}function Yn(e,t,n,o){let r=(o??new ue(n)).format(e,"PPPP");return t.today&&(r=`Today, ${r}`),t.selected&&(r=`${r}, selected`),r}const ga=Yn;function zn(e,t,n){return(n??new ue(t)).formatMonthYear(e)}const va=zn;function wa(e,t,n,o){let r=(o??new ue(n)).format(e,"PPPP");return t?.today&&(r=`Today, ${r}`),r}function ba(e){return"Choose the Month"}function xa(){return""}function Sa(e){return"Go to the Next Month"}function ka(e){return"Go to the Previous Month"}function Ca(e,t,n){return(n??new ue(t)).format(e,"cccc")}function Ma(e,t){return`Week ${e}`}function Da(e){return"Week Number"}function Oa(e){return"Choose the Year"}const Na=Object.freeze(Object.defineProperty({__proto__:null,labelCaption:va,labelDay:ga,labelDayButton:Yn,labelGrid:zn,labelGridcell:wa,labelMonthDropdown:ba,labelNav:xa,labelNext:Sa,labelPrevious:ka,labelWeekNumber:Ma,labelWeekNumberHeader:Da,labelWeekday:Ca,labelYearDropdown:Oa},Symbol.toStringTag,{value:"Module"})),Qe=e=>e instanceof HTMLElement?e:null,dt=e=>[...e.querySelectorAll("[data-animated-month]")??[]],Ea=e=>Qe(e.querySelector("[data-animated-month]")),ut=e=>Qe(e.querySelector("[data-animated-caption]")),ft=e=>Qe(e.querySelector("[data-animated-weeks]")),_a=e=>Qe(e.querySelector("[data-animated-nav]")),Ia=e=>Qe(e.querySelector("[data-animated-weekdays]"));function Ta(e,t,{classNames:n,months:o,focused:r,dateLib:s}){const i=d.useRef(null),a=d.useRef(o),l=d.useRef(!1);d.useLayoutEffect(()=>{const c=a.current;if(a.current=o,!t||!e.current||!(e.current instanceof HTMLElement)||o.length===0||c.length===0||o.length!==c.length)return;const f=s.isSameMonth(o[0].date,c[0].date),u=s.isAfter(o[0].date,c[0].date),h=u?n[ce.caption_after_enter]:n[ce.caption_before_enter],v=u?n[ce.weeks_after_enter]:n[ce.weeks_before_enter],D=i.current,y=e.current.cloneNode(!0);if(y instanceof HTMLElement?(dt(y).forEach(b=>{if(!(b instanceof HTMLElement))return;const R=Ea(b);R&&b.contains(R)&&b.removeChild(R);const x=ut(b);x&&x.classList.remove(h);const C=ft(b);C&&C.classList.remove(v)}),i.current=y):i.current=null,l.current||f||r)return;const g=D instanceof HTMLElement?dt(D):[],O=dt(e.current);if(O?.every(w=>w instanceof HTMLElement)&&g&&g.every(w=>w instanceof HTMLElement)){l.current=!0,e.current.style.isolation="isolate";const w=_a(e.current);w&&(w.style.zIndex="1"),O.forEach((b,R)=>{const x=g[R];if(!x)return;b.style.position="relative",b.style.overflow="hidden";const C=ut(b);C&&C.classList.add(h);const S=ft(b);S&&S.classList.add(v);const I=()=>{l.current=!1,e.current&&(e.current.style.isolation=""),w&&(w.style.zIndex=""),C&&C.classList.remove(h),S&&S.classList.remove(v),b.style.position="",b.style.overflow="",b.contains(x)&&b.removeChild(x)};x.style.pointerEvents="none",x.style.position="absolute",x.style.overflow="hidden",x.setAttribute("aria-hidden","true");const $=Ia(x);$&&($.style.opacity="0");const L=ut(x);L&&(L.classList.add(u?n[ce.caption_before_exit]:n[ce.caption_after_exit]),L.addEventListener("animationend",I));const H=ft(x);H&&H.classList.add(u?n[ce.weeks_before_exit]:n[ce.weeks_after_exit]),b.insertBefore(x,b.firstChild)})}})}function Wa(e,t,n,o){const r=e[0],s=e[e.length-1],{ISOWeek:i,fixedWeeks:a,broadcastCalendar:l}=n??{},{addDays:c,differenceInCalendarDays:f,differenceInCalendarMonths:u,endOfBroadcastWeek:h,endOfISOWeek:v,endOfMonth:D,endOfWeek:y,isAfter:g,startOfBroadcastWeek:O,startOfISOWeek:w,startOfWeek:b}=o,R=l?O(r,o):i?w(r):b(r),x=l?h(s):i?v(D(s)):y(D(s)),C=f(x,R),S=u(s,r)+1,I=[];for(let H=0;H<=C;H++){const K=c(R,H);if(t&&g(K,t))break;I.push(K)}const L=(l?35:42)*S;if(a&&I.length<L){const H=L-I.length;for(let K=0;K<H;K++){const oe=c(I[I.length-1],1);I.push(oe)}}return I}function Pa(e){const t=[];return e.reduce((n,o)=>{const r=o.weeks.reduce((s,i)=>s.concat(i.days.slice()),t.slice());return n.concat(r.slice())},t.slice())}function Ra(e,t,n,o){const{numberOfMonths:r=1}=n,s=[];for(let i=0;i<r;i++){const a=o.addMonths(e,i);if(t&&a>t)break;s.push(a)}return s}function Yt(e,t,n,o){const{month:r,defaultMonth:s,today:i=o.today(),numberOfMonths:a=1}=e;let l=r||s||i;const{differenceInCalendarMonths:c,addMonths:f,startOfMonth:u}=o;if(n&&c(n,l)<a-1){const h=-1*(a-1);l=f(n,h)}return t&&c(l,t)<0&&(l=t),u(l)}function Ba(e,t,n,o){const{addDays:r,endOfBroadcastWeek:s,endOfISOWeek:i,endOfMonth:a,endOfWeek:l,getISOWeek:c,getWeek:f,startOfBroadcastWeek:u,startOfISOWeek:h,startOfWeek:v}=o,D=e.reduce((y,g)=>{const O=n.broadcastCalendar?u(g,o):n.ISOWeek?h(g):v(g),w=n.broadcastCalendar?s(g):n.ISOWeek?i(a(g)):l(a(g)),b=t.filter(S=>S>=O&&S<=w),R=n.broadcastCalendar?35:42;if(n.fixedWeeks&&b.length<R){const S=t.filter(I=>{const $=R-b.length;return I>w&&I<=r(w,$)});b.push(...S)}const x=b.reduce((S,I)=>{const $=n.ISOWeek?c(I):f(I),L=S.find(K=>K.weekNumber===$),H=new In(I,g,o);return L?L.days.push(H):S.push(new Ds($,[H])),S},[]),C=new Ms(g,x);return y.push(C),y},[]);return n.reverseMonths?D.reverse():D}function ja(e,t){let{startMonth:n,endMonth:o}=e;const{startOfYear:r,startOfDay:s,startOfMonth:i,endOfMonth:a,addYears:l,endOfYear:c,newDate:f,today:u}=t,{fromYear:h,toYear:v,fromMonth:D,toMonth:y}=e;!n&&D&&(n=D),!n&&h&&(n=t.newDate(h,0,1)),!o&&y&&(o=y),!o&&v&&(o=f(v,11,31));const g=e.captionLayout==="dropdown"||e.captionLayout==="dropdown-years";return n?n=i(n):h?n=f(h,0,1):!n&&g&&(n=r(l(e.today??u(),-100))),o?o=a(o):v?o=f(v,11,31):!o&&g&&(o=c(e.today??u())),[n&&s(n),o&&s(o)]}function Aa(e,t,n,o){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:s=1}=n,{startOfMonth:i,addMonths:a,differenceInCalendarMonths:l}=o,c=r?s:1,f=i(e);if(!t)return a(f,c);if(!(l(t,e)<s))return a(f,c)}function Fa(e,t,n,o){if(n.disableNavigation)return;const{pagedNavigation:r,numberOfMonths:s}=n,{startOfMonth:i,addMonths:a,differenceInCalendarMonths:l}=o,c=r?s??1:1,f=i(e);if(!t)return a(f,-c);if(!(l(f,t)<=0))return a(f,-c)}function Ya(e){const t=[];return e.reduce((n,o)=>n.concat(o.weeks.slice()),t.slice())}function rt(e,t){const[n,o]=d.useState(e);return[t===void 0?n:t,o]}function za(e,t){const[n,o]=ja(e,t),{startOfMonth:r,endOfMonth:s}=t,i=Yt(e,n,o,t),[a,l]=rt(i,e.month?i:void 0);d.useEffect(()=>{const C=Yt(e,n,o,t);l(C)},[e.timeZone]);const c=Ra(a,o,e,t),f=Wa(c,e.endMonth?s(e.endMonth):void 0,e,t),u=Ba(c,f,e,t),h=Ya(u),v=Pa(u),D=Fa(a,n,e,t),y=Aa(a,o,e,t),{disableNavigation:g,onMonthChange:O}=e,w=C=>h.some(S=>S.days.some(I=>I.isEqualTo(C))),b=C=>{if(g)return;let S=r(C);n&&S<r(n)&&(S=r(n)),o&&S>r(o)&&(S=r(o)),l(S),O?.(S)};return{months:u,weeks:h,days:v,navStart:n,navEnd:o,previousMonth:D,nextMonth:y,goToMonth:b,goToDay:C=>{w(C)||b(C.date)}}}var ye;(function(e){e[e.Today=0]="Today",e[e.Selected=1]="Selected",e[e.LastFocused=2]="LastFocused",e[e.FocusedModifier=3]="FocusedModifier"})(ye||(ye={}));function zt(e){return!e[J.disabled]&&!e[J.hidden]&&!e[J.outside]}function Ha(e,t,n,o){let r,s=-1;for(const i of e){const a=t(i);zt(a)&&(a[J.focused]&&s<ye.FocusedModifier?(r=i,s=ye.FocusedModifier):o?.isEqualTo(i)&&s<ye.LastFocused?(r=i,s=ye.LastFocused):n(i.date)&&s<ye.Selected?(r=i,s=ye.Selected):a[J.today]&&s<ye.Today&&(r=i,s=ye.Today))}return r||(r=e.find(i=>zt(t(i)))),r}function $a(e,t,n,o,r,s,i){const{ISOWeek:a,broadcastCalendar:l}=s,{addDays:c,addMonths:f,addWeeks:u,addYears:h,endOfBroadcastWeek:v,endOfISOWeek:D,endOfWeek:y,max:g,min:O,startOfBroadcastWeek:w,startOfISOWeek:b,startOfWeek:R}=i;let C={day:c,week:u,month:f,year:h,startOfWeek:S=>l?w(S,i):a?b(S):R(S),endOfWeek:S=>l?v(S):a?D(S):y(S)}[e](n,t==="after"?1:-1);return t==="before"&&o?C=g([o,C]):t==="after"&&r&&(C=O([r,C])),C}function Hn(e,t,n,o,r,s,i,a=0){if(a>365)return;const l=$a(e,t,n.date,o,r,s,i),c=!!(s.disabled&&ke(l,s.disabled,i)),f=!!(s.hidden&&ke(l,s.hidden,i)),u=l,h=new In(l,u,i);return!c&&!f?h:Hn(e,t,h,o,r,s,i,a+1)}function La(e,t,n,o,r){const{autoFocus:s}=e,[i,a]=d.useState(),l=Ha(t.days,n,o||(()=>!1),i),[c,f]=d.useState(s?l:void 0);return{isFocusTarget:y=>!!l?.isEqualTo(y),setFocused:f,focused:c,blur:()=>{a(c),f(void 0)},moveFocus:(y,g)=>{if(!c)return;const O=Hn(y,g,c,t.navStart,t.navEnd,e,r);O&&(e.disableNavigation&&!t.days.some(b=>b.isEqualTo(O))||(t.goToDay(O),f(O)))}}}function qa(e,t){const{selected:n,required:o,onSelect:r}=e,[s,i]=rt(n,r?n:void 0),a=r?n:s,{isSameDay:l}=t,c=v=>a?.some(D=>l(D,v))??!1,{min:f,max:u}=e;return{selected:a,select:(v,D,y)=>{let g=[...a??[]];if(c(v)){if(a?.length===f||o&&a?.length===1)return;g=a?.filter(O=>!l(O,v))}else a?.length===u?g=[v]:g=[...g,v];return r||i(g),r?.(g,v,D,y),g},isSelected:c}}function Ka(e,t,n=0,o=0,r=!1,s=be){const{from:i,to:a}=t||{},{isSameDay:l,isAfter:c,isBefore:f}=s;let u;if(!i&&!a)u={from:e,to:n>0?void 0:e};else if(i&&!a)l(i,e)?n===0?u={from:i,to:e}:r?u={from:i,to:void 0}:u=void 0:f(e,i)?u={from:e,to:i}:u={from:i,to:e};else if(i&&a)if(l(i,e)&&l(a,e))r?u={from:i,to:a}:u=void 0;else if(l(i,e))u={from:i,to:n>0?void 0:e};else if(l(a,e))u={from:e,to:n>0?void 0:e};else if(f(e,i))u={from:e,to:a};else if(c(e,i))u={from:i,to:e};else if(c(e,a))u={from:i,to:e};else throw new Error("Invalid range");if(u?.from&&u?.to){const h=s.differenceInCalendarDays(u.to,u.from);o>0&&h>o?u={from:e,to:void 0}:n>1&&h<n&&(u={from:e,to:void 0})}return u}function Va(e,t,n=be){const o=Array.isArray(t)?t:[t];let r=e.from;const s=n.differenceInCalendarDays(e.to,e.from),i=Math.min(s,6);for(let a=0;a<=i;a++){if(o.includes(r.getDay()))return!0;r=n.addDays(r,1)}return!1}function Ht(e,t,n=be){return Se(e,t.from,!1,n)||Se(e,t.to,!1,n)||Se(t,e.from,!1,n)||Se(t,e.to,!1,n)}function Ua(e,t,n=be){const o=Array.isArray(t)?t:[t];if(o.filter(a=>typeof a!="function").some(a=>typeof a=="boolean"?a:n.isDate(a)?Se(e,a,!1,n):jn(a,n)?a.some(l=>Se(e,l,!1,n)):Nt(a)?a.from&&a.to?Ht(e,{from:a.from,to:a.to},n):!1:Bn(a)?Va(e,a.dayOfWeek,n):Wn(a)?n.isAfter(a.before,a.after)?Ht(e,{from:n.addDays(a.after,1),to:n.addDays(a.before,-1)},n):ke(e.from,a,n)||ke(e.to,a,n):Pn(a)||Rn(a)?ke(e.from,a,n)||ke(e.to,a,n):!1))return!0;const i=o.filter(a=>typeof a=="function");if(i.length){let a=e.from;const l=n.differenceInCalendarDays(e.to,e.from);for(let c=0;c<=l;c++){if(i.some(f=>f(a)))return!0;a=n.addDays(a,1)}}return!1}function Za(e,t){const{disabled:n,excludeDisabled:o,selected:r,required:s,onSelect:i}=e,[a,l]=rt(r,i?r:void 0),c=i?r:a;return{selected:c,select:(h,v,D)=>{const{min:y,max:g}=e,O=h?Ka(h,c,y,g,s,t):void 0;return o&&n&&O?.from&&O.to&&Ua({from:O.from,to:O.to},n,t)&&(O.from=h,O.to=void 0),i||l(O),i?.(O,h,v,D),O},isSelected:h=>c&&Se(c,h,!1,t)}}function Ga(e,t){const{selected:n,required:o,onSelect:r}=e,[s,i]=rt(n,r?n:void 0),a=r?n:s,{isSameDay:l}=t;return{selected:a,select:(u,h,v)=>{let D=u;return!o&&a&&a&&l(u,a)&&(D=void 0),r||i(D),r?.(D,u,h,v),D},isSelected:u=>a?l(a,u):!1}}function Qa(e,t){const n=Ga(e,t),o=qa(e,t),r=Za(e,t);switch(e.mode){case"single":return n;case"multiple":return o;case"range":return r;default:return}}function Xa(e){let t=e;t.timeZone&&(t={...e},t.today&&(t.today=new ie(t.today,t.timeZone)),t.month&&(t.month=new ie(t.month,t.timeZone)),t.defaultMonth&&(t.defaultMonth=new ie(t.defaultMonth,t.timeZone)),t.startMonth&&(t.startMonth=new ie(t.startMonth,t.timeZone)),t.endMonth&&(t.endMonth=new ie(t.endMonth,t.timeZone)),t.mode==="single"&&t.selected?t.selected=new ie(t.selected,t.timeZone):t.mode==="multiple"&&t.selected?t.selected=t.selected?.map(B=>new ie(B,t.timeZone)):t.mode==="range"&&t.selected&&(t.selected={from:t.selected.from?new ie(t.selected.from,t.timeZone):void 0,to:t.selected.to?new ie(t.selected.to,t.timeZone):void 0}));const{components:n,formatters:o,labels:r,dateLib:s,locale:i,classNames:a}=d.useMemo(()=>{const B={...Zt,...t.locale};return{dateLib:new ue({locale:B,weekStartsOn:t.broadcastCalendar?1:t.weekStartsOn,firstWeekContainsDate:t.firstWeekContainsDate,useAdditionalWeekYearTokens:t.useAdditionalWeekYearTokens,useAdditionalDayOfYearTokens:t.useAdditionalDayOfYearTokens,timeZone:t.timeZone,numerals:t.numerals},t.dateLib),components:na(t.components),formatters:fa(t.formatters),labels:{...Na,...t.labels},locale:B,classNames:{...Et(),...t.classNames}}},[t.locale,t.broadcastCalendar,t.weekStartsOn,t.firstWeekContainsDate,t.useAdditionalWeekYearTokens,t.useAdditionalDayOfYearTokens,t.timeZone,t.numerals,t.dateLib,t.components,t.formatters,t.labels,t.classNames]),{captionLayout:l,mode:c,navLayout:f,numberOfMonths:u=1,onDayBlur:h,onDayClick:v,onDayFocus:D,onDayKeyDown:y,onDayMouseEnter:g,onDayMouseLeave:O,onNextClick:w,onPrevClick:b,showWeekNumber:R,styles:x}=t,{formatCaption:C,formatDay:S,formatMonthDropdown:I,formatWeekNumber:$,formatWeekNumberHeader:L,formatWeekdayName:H,formatYearDropdown:K}=o,oe=za(t,s),{days:G,months:ee,navStart:Q,navEnd:re,previousMonth:V,nextMonth:X,goToMonth:ae}=oe,fe=ea(G,t,Q,re,s),{isSelected:m,select:_,selected:T}=Qa(t,s)??{},{blur:N,focused:j,isFocusTarget:M,moveFocus:A,setFocused:F}=La(t,oe,fe,m??(()=>!1),s),{labelDayButton:z,labelGridcell:U,labelGrid:ne,labelMonthDropdown:xe,labelNav:pe,labelPrevious:ze,labelNext:He,labelWeekday:$e,labelWeekNumber:Qn,labelWeekNumberHeader:Xn,labelYearDropdown:Jn}=r,eo=d.useMemo(()=>pa(s,t.ISOWeek),[s,t.ISOWeek]),Tt=c!==void 0||v!==void 0,at=d.useCallback(()=>{V&&(ae(V),b?.(V))},[V,ae,b]),it=d.useCallback(()=>{X&&(ae(X),w?.(X))},[ae,X,w]),to=d.useCallback((B,Z)=>W=>{W.preventDefault(),W.stopPropagation(),F(B),_?.(B.date,Z,W),v?.(B.date,Z,W)},[_,v,F]),no=d.useCallback((B,Z)=>W=>{F(B),D?.(B.date,Z,W)},[D,F]),oo=d.useCallback((B,Z)=>W=>{N(),h?.(B.date,Z,W)},[N,h]),ro=d.useCallback((B,Z)=>W=>{const q={ArrowLeft:[W.shiftKey?"month":"day",t.dir==="rtl"?"after":"before"],ArrowRight:[W.shiftKey?"month":"day",t.dir==="rtl"?"before":"after"],ArrowDown:[W.shiftKey?"year":"week","after"],ArrowUp:[W.shiftKey?"year":"week","before"],PageUp:[W.shiftKey?"year":"month","before"],PageDown:[W.shiftKey?"year":"month","after"],Home:["startOfWeek","before"],End:["endOfWeek","after"]};if(q[W.key]){W.preventDefault(),W.stopPropagation();const[le,Y]=q[W.key];A(le,Y)}y?.(B.date,Z,W)},[A,y,t.dir]),so=d.useCallback((B,Z)=>W=>{g?.(B.date,Z,W)},[g]),ao=d.useCallback((B,Z)=>W=>{O?.(B.date,Z,W)},[O]),io=d.useCallback(B=>Z=>{const W=Number(Z.target.value),q=s.setMonth(s.startOfMonth(B),W);ae(q)},[s,ae]),lo=d.useCallback(B=>Z=>{const W=Number(Z.target.value),q=s.setYear(s.startOfMonth(B),W);ae(q)},[s,ae]),{className:co,style:uo}=d.useMemo(()=>({className:[a[E.Root],t.className].filter(Boolean).join(" "),style:{...x?.[E.Root],...t.style}}),[a,t.className,t.style,x]),fo=oa(t),Wt=d.useRef(null);Ta(Wt,!!t.animate,{classNames:a,months:ee,focused:j,dateLib:s});const mo={dayPickerProps:t,selected:T,select:_,isSelected:m,months:ee,nextMonth:X,previousMonth:V,goToMonth:ae,getModifiers:fe,components:n,classNames:a,styles:x,labels:r,formatters:o};return k.createElement(Tn.Provider,{value:mo},k.createElement(n.Root,{rootRef:t.animate?Wt:void 0,className:co,style:uo,dir:t.dir,id:t.id,lang:t.lang,nonce:t.nonce,title:t.title,role:t.role,"aria-label":t["aria-label"],"aria-labelledby":t["aria-labelledby"],...fo},k.createElement(n.Months,{className:a[E.Months],style:x?.[E.Months]},!t.hideNavigation&&!f&&k.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[E.Nav],style:x?.[E.Nav],"aria-label":pe(),onPreviousClick:at,onNextClick:it,previousMonth:V,nextMonth:X}),ee.map((B,Z)=>k.createElement(n.Month,{"data-animated-month":t.animate?"true":void 0,className:a[E.Month],style:x?.[E.Month],key:Z,displayIndex:Z,calendarMonth:B},f==="around"&&!t.hideNavigation&&Z===0&&k.createElement(n.PreviousMonthButton,{type:"button",className:a[E.PreviousMonthButton],tabIndex:V?void 0:-1,"aria-disabled":V?void 0:!0,"aria-label":ze(V),onClick:at,"data-animated-button":t.animate?"true":void 0},k.createElement(n.Chevron,{disabled:V?void 0:!0,className:a[E.Chevron],orientation:t.dir==="rtl"?"right":"left"})),k.createElement(n.MonthCaption,{"data-animated-caption":t.animate?"true":void 0,className:a[E.MonthCaption],style:x?.[E.MonthCaption],calendarMonth:B,displayIndex:Z},l?.startsWith("dropdown")?k.createElement(n.DropdownNav,{className:a[E.Dropdowns],style:x?.[E.Dropdowns]},(()=>{const W=l==="dropdown"||l==="dropdown-months"?k.createElement(n.MonthsDropdown,{key:"month",className:a[E.MonthsDropdown],"aria-label":xe(),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:io(B.date),options:ma(B.date,Q,re,o,s),style:x?.[E.Dropdown],value:s.getMonth(B.date)}):k.createElement("span",{key:"month"},I(B.date,s)),q=l==="dropdown"||l==="dropdown-years"?k.createElement(n.YearsDropdown,{key:"year",className:a[E.YearsDropdown],"aria-label":Jn(s.options),classNames:a,components:n,disabled:!!t.disableNavigation,onChange:lo(B.date),options:ya(Q,re,o,s,!!t.reverseYears),style:x?.[E.Dropdown],value:s.getYear(B.date)}):k.createElement("span",{key:"year"},K(B.date,s));return s.getMonthYearOrder()==="year-first"?[q,W]:[W,q]})(),k.createElement("span",{role:"status","aria-live":"polite",style:{border:0,clip:"rect(0 0 0 0)",height:"1px",margin:"-1px",overflow:"hidden",padding:0,position:"absolute",width:"1px",whiteSpace:"nowrap",wordWrap:"normal"}},C(B.date,s.options,s))):k.createElement(n.CaptionLabel,{className:a[E.CaptionLabel],role:"status","aria-live":"polite"},C(B.date,s.options,s))),f==="around"&&!t.hideNavigation&&Z===u-1&&k.createElement(n.NextMonthButton,{type:"button",className:a[E.NextMonthButton],tabIndex:X?void 0:-1,"aria-disabled":X?void 0:!0,"aria-label":He(X),onClick:it,"data-animated-button":t.animate?"true":void 0},k.createElement(n.Chevron,{disabled:X?void 0:!0,className:a[E.Chevron],orientation:t.dir==="rtl"?"left":"right"})),Z===u-1&&f==="after"&&!t.hideNavigation&&k.createElement(n.Nav,{"data-animated-nav":t.animate?"true":void 0,className:a[E.Nav],style:x?.[E.Nav],"aria-label":pe(),onPreviousClick:at,onNextClick:it,previousMonth:V,nextMonth:X}),k.createElement(n.MonthGrid,{role:"grid","aria-multiselectable":c==="multiple"||c==="range","aria-label":ne(B.date,s.options,s)||void 0,className:a[E.MonthGrid],style:x?.[E.MonthGrid]},!t.hideWeekdays&&k.createElement(n.Weekdays,{"data-animated-weekdays":t.animate?"true":void 0,className:a[E.Weekdays],style:x?.[E.Weekdays]},R&&k.createElement(n.WeekNumberHeader,{"aria-label":Xn(s.options),className:a[E.WeekNumberHeader],style:x?.[E.WeekNumberHeader],scope:"col"},L()),eo.map(W=>k.createElement(n.Weekday,{"aria-label":$e(W,s.options,s),className:a[E.Weekday],key:String(W),style:x?.[E.Weekday],scope:"col"},H(W,s.options,s)))),k.createElement(n.Weeks,{"data-animated-weeks":t.animate?"true":void 0,className:a[E.Weeks],style:x?.[E.Weeks]},B.weeks.map(W=>k.createElement(n.Week,{className:a[E.Week],key:W.weekNumber,style:x?.[E.Week],week:W},R&&k.createElement(n.WeekNumber,{week:W,style:x?.[E.WeekNumber],"aria-label":Qn(W.weekNumber,{locale:i}),className:a[E.WeekNumber],scope:"row",role:"rowheader"},$(W.weekNumber,s)),W.days.map(q=>{const{date:le}=q,Y=fe(q);if(Y[J.focused]=!Y.hidden&&!!j?.isEqualTo(q),Y[he.selected]=m?.(le)||Y.selected,Nt(T)){const{from:lt,to:ct}=T;Y[he.range_start]=!!(lt&&ct&&s.isSameDay(le,lt)),Y[he.range_end]=!!(lt&&ct&&s.isSameDay(le,ct)),Y[he.range_middle]=Se(T,le,!0,s)}const ho=ha(Y,x,t.modifiersStyles),po=ta(Y,a,t.modifiersClassNames),yo=!Tt&&!Y.hidden?U(le,Y,s.options,s):void 0;return k.createElement(n.Day,{key:`${s.format(le,"yyyy-MM-dd")}_${s.format(q.displayMonth,"yyyy-MM")}`,day:q,modifiers:Y,className:po.join(" "),style:ho,role:"gridcell","aria-selected":Y.selected||void 0,"aria-label":yo,"data-day":s.format(le,"yyyy-MM-dd"),"data-month":q.outside?s.format(le,"yyyy-MM"):void 0,"data-selected":Y.selected||void 0,"data-disabled":Y.disabled||void 0,"data-hidden":Y.hidden||void 0,"data-outside":q.outside||void 0,"data-focused":Y.focused||void 0,"data-today":Y.today||void 0},!Y.hidden&&Tt?k.createElement(n.DayButton,{className:a[E.DayButton],style:x?.[E.DayButton],type:"button",day:q,modifiers:Y,disabled:Y.disabled||void 0,tabIndex:M(q)?0:-1,"aria-label":z(le,Y,s.options,s),onClick:to(q,Y),onBlur:oo(q,Y),onFocus:no(q,Y),onKeyDown:ro(q,Y),onMouseEnter:so(q,Y),onMouseLeave:ao(q,Y)},S(le,s.options,s)):!Y.hidden&&S(q.date,s.options,s))})))))))),t.footer&&k.createElement(n.Footer,{className:a[E.Footer],style:x?.[E.Footer],role:"status","aria-live":"polite"},t.footer)))}function Li({className:e,classNames:t,showOutsideDays:n=!0,captionLayout:o="label",buttonVariant:r="ghost",formatters:s,components:i,...a}){const l=Et();return p.jsx(Xa,{showOutsideDays:n,className:P("bg-background group/calendar p-3 [--cell-size:--spacing(8)] [[data-slot=card-content]_&]:bg-transparent [[data-slot=popover-content]_&]:bg-transparent",String.raw`rtl:**:[.rdp-button\_next>svg]:rotate-180`,String.raw`rtl:**:[.rdp-button\_previous>svg]:rotate-180`,e),captionLayout:o,formatters:{formatMonthDropdown:c=>c.toLocaleString("default",{month:"short"}),...s},classNames:{root:P("w-fit",l.root),months:P("flex gap-4 flex-col md:flex-row relative",l.months),month:P("flex flex-col w-full gap-4",l.month),nav:P("flex items-center gap-1 w-full absolute top-0 inset-x-0 justify-between",l.nav),button_previous:P(Rt({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_previous),button_next:P(Rt({variant:r}),"size-(--cell-size) aria-disabled:opacity-50 p-0 select-none",l.button_next),month_caption:P("flex items-center justify-center h-(--cell-size) w-full px-(--cell-size)",l.month_caption),dropdowns:P("w-full flex items-center text-sm font-medium justify-center h-(--cell-size) gap-1.5",l.dropdowns),dropdown_root:P("relative has-focus:border-ring border border-input shadow-xs has-focus:ring-ring/50 has-focus:ring-[3px] rounded-md",l.dropdown_root),dropdown:P("absolute bg-popover inset-0 opacity-0",l.dropdown),caption_label:P("select-none font-medium",o==="label"?"text-sm":"rounded-md pl-2 pr-1 flex items-center gap-1 text-sm h-8 [&>svg]:text-muted-foreground [&>svg]:size-3.5",l.caption_label),table:"w-full border-collapse",weekdays:P("flex",l.weekdays),weekday:P("text-muted-foreground rounded-md flex-1 font-normal text-[0.8rem] select-none",l.weekday),week:P("flex w-full mt-2",l.week),week_number_header:P("select-none w-(--cell-size)",l.week_number_header),week_number:P("text-[0.8rem] select-none text-muted-foreground",l.week_number),day:P("relative w-full h-full p-0 text-center [&:last-child[data-selected=true]_button]:rounded-r-md group/day aspect-square select-none",a.showWeekNumber?"[&:nth-child(2)[data-selected=true]_button]:rounded-l-md":"[&:first-child[data-selected=true]_button]:rounded-l-md",l.day),range_start:P("rounded-l-md bg-accent",l.range_start),range_middle:P("rounded-none",l.range_middle),range_end:P("rounded-r-md bg-accent",l.range_end),today:P("bg-accent text-accent-foreground rounded-md data-[selected=true]:rounded-none",l.today),outside:P("text-muted-foreground aria-selected:text-muted-foreground",l.outside),disabled:P("text-muted-foreground opacity-50",l.disabled),hidden:P("invisible",l.hidden),...t},components:{Root:({className:c,rootRef:f,...u})=>p.jsx("div",{"data-slot":"calendar",ref:f,className:P(c),...u}),Chevron:({className:c,orientation:f,...u})=>f==="left"?p.jsx(nr,{className:P("size-4",c),...u}):f==="right"?p.jsx(rr,{className:P("size-4",c),...u}):p.jsx(Mt,{className:P("size-4",c),...u}),DayButton:Ja,WeekNumber:({children:c,...f})=>p.jsx("td",{...f,children:p.jsx("div",{className:"flex size-(--cell-size) items-center justify-center text-center",children:c})}),...i},...a})}function Ja({className:e,day:t,modifiers:n,...o}){const r=Et(),s=d.useRef(null);return d.useEffect(()=>{n.focused&&s.current?.focus()},[n.focused]),p.jsx(Vo,{ref:s,variant:"ghost",size:"icon","data-day":t.date.toLocaleDateString(),"data-selected-single":n.selected&&!n.range_start&&!n.range_end&&!n.range_middle,"data-range-start":n.range_start,"data-range-end":n.range_end,"data-range-middle":n.range_middle,className:P("data-[selected-single=true]:bg-primary data-[selected-single=true]:text-primary-foreground data-[range-middle=true]:bg-accent data-[range-middle=true]:text-accent-foreground data-[range-start=true]:bg-primary data-[range-start=true]:text-primary-foreground data-[range-end=true]:bg-primary data-[range-end=true]:text-primary-foreground group-data-[focused=true]/day:border-ring group-data-[focused=true]/day:ring-ring/50 dark:hover:text-accent-foreground flex aspect-square size-auto w-full min-w-(--cell-size) flex-col gap-1 leading-none font-normal group-data-[focused=true]/day:relative group-data-[focused=true]/day:z-10 group-data-[focused=true]/day:ring-[3px] data-[range-end=true]:rounded-md data-[range-end=true]:rounded-r-md data-[range-middle=true]:rounded-none data-[range-start=true]:rounded-md data-[range-start=true]:rounded-l-md [&>span]:text-xs [&>span]:opacity-70",r.day,e),...o})}var $t=1,ei=.9,ti=.8,ni=.17,mt=.1,ht=.999,oi=.9999,ri=.99,si=/[\\\/_+.#"@\[\(\{&]/,ai=/[\\\/_+.#"@\[\(\{&]/g,ii=/[\s-]/,$n=/[\s-]/g;function kt(e,t,n,o,r,s,i){if(s===t.length)return r===e.length?$t:ri;var a=`${r},${s}`;if(i[a]!==void 0)return i[a];for(var l=o.charAt(s),c=n.indexOf(l,r),f=0,u,h,v,D;c>=0;)u=kt(e,t,n,o,c+1,s+1,i),u>f&&(c===r?u*=$t:si.test(e.charAt(c-1))?(u*=ti,v=e.slice(r,c-1).match(ai),v&&r>0&&(u*=Math.pow(ht,v.length))):ii.test(e.charAt(c-1))?(u*=ei,D=e.slice(r,c-1).match($n),D&&r>0&&(u*=Math.pow(ht,D.length))):(u*=ni,r>0&&(u*=Math.pow(ht,c-r))),e.charAt(c)!==t.charAt(s)&&(u*=oi)),(u<mt&&n.charAt(c-1)===o.charAt(s+1)||o.charAt(s+1)===o.charAt(s)&&n.charAt(c-1)!==o.charAt(s))&&(h=kt(e,t,n,o,c+1,s+2,i),h*mt>u&&(u=h*mt)),u>f&&(f=u),c=n.indexOf(l,c+1);return i[a]=f,f}function Lt(e){return e.toLowerCase().replace($n," ")}function li(e,t,n){return e=n&&n.length>0?`${e+" "+n.join(" ")}`:e,kt(e,t,Lt(e),Lt(t),0,0,{})}var Le='[cmdk-group=""]',pt='[cmdk-group-items=""]',ci='[cmdk-group-heading=""]',Ln='[cmdk-item=""]',qt=`${Ln}:not([aria-disabled="true"])`,Ct="cmdk-item-select",Be="data-value",di=(e,t,n)=>li(e,t,n),qn=d.createContext(void 0),Xe=()=>d.useContext(qn),Kn=d.createContext(void 0),_t=()=>d.useContext(Kn),Vn=d.createContext(void 0),Un=d.forwardRef((e,t)=>{let n=je(()=>{var m,_;return{search:"",value:(_=(m=e.value)!=null?m:e.defaultValue)!=null?_:"",selectedItemId:void 0,filtered:{count:0,items:new Map,groups:new Set}}}),o=je(()=>new Set),r=je(()=>new Map),s=je(()=>new Map),i=je(()=>new Set),a=Zn(e),{label:l,children:c,value:f,onValueChange:u,filter:h,shouldFilter:v,loop:D,disablePointerSelection:y=!1,vimBindings:g=!0,...O}=e,w=Ce(),b=Ce(),R=Ce(),x=d.useRef(null),C=xi();Re(()=>{if(f!==void 0){let m=f.trim();n.current.value=m,S.emit()}},[f]),Re(()=>{C(6,oe)},[]);let S=d.useMemo(()=>({subscribe:m=>(i.current.add(m),()=>i.current.delete(m)),snapshot:()=>n.current,setState:(m,_,T)=>{var N,j,M,A;if(!Object.is(n.current[m],_)){if(n.current[m]=_,m==="search")K(),L(),C(1,H);else if(m==="value"){if(document.activeElement.hasAttribute("cmdk-input")||document.activeElement.hasAttribute("cmdk-root")){let F=document.getElementById(R);F?F.focus():(N=document.getElementById(w))==null||N.focus()}if(C(7,()=>{var F;n.current.selectedItemId=(F=G())==null?void 0:F.id,S.emit()}),T||C(5,oe),((j=a.current)==null?void 0:j.value)!==void 0){let F=_??"";(A=(M=a.current).onValueChange)==null||A.call(M,F);return}}S.emit()}},emit:()=>{i.current.forEach(m=>m())}}),[]),I=d.useMemo(()=>({value:(m,_,T)=>{var N;_!==((N=s.current.get(m))==null?void 0:N.value)&&(s.current.set(m,{value:_,keywords:T}),n.current.filtered.items.set(m,$(_,T)),C(2,()=>{L(),S.emit()}))},item:(m,_)=>(o.current.add(m),_&&(r.current.has(_)?r.current.get(_).add(m):r.current.set(_,new Set([m]))),C(3,()=>{K(),L(),n.current.value||H(),S.emit()}),()=>{s.current.delete(m),o.current.delete(m),n.current.filtered.items.delete(m);let T=G();C(4,()=>{K(),T?.getAttribute("id")===m&&H(),S.emit()})}),group:m=>(r.current.has(m)||r.current.set(m,new Set),()=>{s.current.delete(m),r.current.delete(m)}),filter:()=>a.current.shouldFilter,label:l||e["aria-label"],getDisablePointerSelection:()=>a.current.disablePointerSelection,listId:w,inputId:R,labelId:b,listInnerRef:x}),[]);function $(m,_){var T,N;let j=(N=(T=a.current)==null?void 0:T.filter)!=null?N:di;return m?j(m,n.current.search,_):0}function L(){if(!n.current.search||a.current.shouldFilter===!1)return;let m=n.current.filtered.items,_=[];n.current.filtered.groups.forEach(N=>{let j=r.current.get(N),M=0;j.forEach(A=>{let F=m.get(A);M=Math.max(F,M)}),_.push([N,M])});let T=x.current;ee().sort((N,j)=>{var M,A;let F=N.getAttribute("id"),z=j.getAttribute("id");return((M=m.get(z))!=null?M:0)-((A=m.get(F))!=null?A:0)}).forEach(N=>{let j=N.closest(pt);j?j.appendChild(N.parentElement===j?N:N.closest(`${pt} > *`)):T.appendChild(N.parentElement===T?N:N.closest(`${pt} > *`))}),_.sort((N,j)=>j[1]-N[1]).forEach(N=>{var j;let M=(j=x.current)==null?void 0:j.querySelector(`${Le}[${Be}="${encodeURIComponent(N[0])}"]`);M?.parentElement.appendChild(M)})}function H(){let m=ee().find(T=>T.getAttribute("aria-disabled")!=="true"),_=m?.getAttribute(Be);S.setState("value",_||void 0)}function K(){var m,_,T,N;if(!n.current.search||a.current.shouldFilter===!1){n.current.filtered.count=o.current.size;return}n.current.filtered.groups=new Set;let j=0;for(let M of o.current){let A=(_=(m=s.current.get(M))==null?void 0:m.value)!=null?_:"",F=(N=(T=s.current.get(M))==null?void 0:T.keywords)!=null?N:[],z=$(A,F);n.current.filtered.items.set(M,z),z>0&&j++}for(let[M,A]of r.current)for(let F of A)if(n.current.filtered.items.get(F)>0){n.current.filtered.groups.add(M);break}n.current.filtered.count=j}function oe(){var m,_,T;let N=G();N&&(((m=N.parentElement)==null?void 0:m.firstChild)===N&&((T=(_=N.closest(Le))==null?void 0:_.querySelector(ci))==null||T.scrollIntoView({block:"nearest"})),N.scrollIntoView({block:"nearest"}))}function G(){var m;return(m=x.current)==null?void 0:m.querySelector(`${Ln}[aria-selected="true"]`)}function ee(){var m;return Array.from(((m=x.current)==null?void 0:m.querySelectorAll(qt))||[])}function Q(m){let _=ee()[m];_&&S.setState("value",_.getAttribute(Be))}function re(m){var _;let T=G(),N=ee(),j=N.findIndex(A=>A===T),M=N[j+m];(_=a.current)!=null&&_.loop&&(M=j+m<0?N[N.length-1]:j+m===N.length?N[0]:N[j+m]),M&&S.setState("value",M.getAttribute(Be))}function V(m){let _=G(),T=_?.closest(Le),N;for(;T&&!N;)T=m>0?wi(T,Le):bi(T,Le),N=T?.querySelector(qt);N?S.setState("value",N.getAttribute(Be)):re(m)}let X=()=>Q(ee().length-1),ae=m=>{m.preventDefault(),m.metaKey?X():m.altKey?V(1):re(1)},fe=m=>{m.preventDefault(),m.metaKey?Q(0):m.altKey?V(-1):re(-1)};return d.createElement(te.div,{ref:t,tabIndex:-1,...O,"cmdk-root":"",onKeyDown:m=>{var _;(_=O.onKeyDown)==null||_.call(O,m);let T=m.nativeEvent.isComposing||m.keyCode===229;if(!(m.defaultPrevented||T))switch(m.key){case"n":case"j":{g&&m.ctrlKey&&ae(m);break}case"ArrowDown":{ae(m);break}case"p":case"k":{g&&m.ctrlKey&&fe(m);break}case"ArrowUp":{fe(m);break}case"Home":{m.preventDefault(),Q(0);break}case"End":{m.preventDefault(),X();break}case"Enter":{m.preventDefault();let N=G();if(N){let j=new Event(Ct);N.dispatchEvent(j)}}}}},d.createElement("label",{"cmdk-label":"",htmlFor:I.inputId,id:I.labelId,style:ki},l),st(e,m=>d.createElement(Kn.Provider,{value:S},d.createElement(qn.Provider,{value:I},m))))}),ui=d.forwardRef((e,t)=>{var n,o;let r=Ce(),s=d.useRef(null),i=d.useContext(Vn),a=Xe(),l=Zn(e),c=(o=(n=l.current)==null?void 0:n.forceMount)!=null?o:i?.forceMount;Re(()=>{if(!c)return a.item(r,i?.id)},[c]);let f=Gn(r,s,[e.value,e.children,s],e.keywords),u=_t(),h=Ne(C=>C.value&&C.value===f.current),v=Ne(C=>c||a.filter()===!1?!0:C.search?C.filtered.items.get(r)>0:!0);d.useEffect(()=>{let C=s.current;if(!(!C||e.disabled))return C.addEventListener(Ct,D),()=>C.removeEventListener(Ct,D)},[v,e.onSelect,e.disabled]);function D(){var C,S;y(),(S=(C=l.current).onSelect)==null||S.call(C,f.current)}function y(){u.setState("value",f.current,!0)}if(!v)return null;let{disabled:g,value:O,onSelect:w,forceMount:b,keywords:R,...x}=e;return d.createElement(te.div,{ref:Ae(s,t),...x,id:r,"cmdk-item":"",role:"option","aria-disabled":!!g,"aria-selected":!!h,"data-disabled":!!g,"data-selected":!!h,onPointerMove:g||a.getDisablePointerSelection()?void 0:y,onClick:g?void 0:D},e.children)}),fi=d.forwardRef((e,t)=>{let{heading:n,children:o,forceMount:r,...s}=e,i=Ce(),a=d.useRef(null),l=d.useRef(null),c=Ce(),f=Xe(),u=Ne(v=>r||f.filter()===!1?!0:v.search?v.filtered.groups.has(i):!0);Re(()=>f.group(i),[]),Gn(i,a,[e.value,e.heading,l]);let h=d.useMemo(()=>({id:i,forceMount:r}),[r]);return d.createElement(te.div,{ref:Ae(a,t),...s,"cmdk-group":"",role:"presentation",hidden:u?void 0:!0},n&&d.createElement("div",{ref:l,"cmdk-group-heading":"","aria-hidden":!0,id:c},n),st(e,v=>d.createElement("div",{"cmdk-group-items":"",role:"group","aria-labelledby":n?c:void 0},d.createElement(Vn.Provider,{value:h},v))))}),mi=d.forwardRef((e,t)=>{let{alwaysRender:n,...o}=e,r=d.useRef(null),s=Ne(i=>!i.search);return!n&&!s?null:d.createElement(te.div,{ref:Ae(r,t),...o,"cmdk-separator":"",role:"separator"})}),hi=d.forwardRef((e,t)=>{let{onValueChange:n,...o}=e,r=e.value!=null,s=_t(),i=Ne(c=>c.search),a=Ne(c=>c.selectedItemId),l=Xe();return d.useEffect(()=>{e.value!=null&&s.setState("search",e.value)},[e.value]),d.createElement(te.input,{ref:t,...o,"cmdk-input":"",autoComplete:"off",autoCorrect:"off",spellCheck:!1,"aria-autocomplete":"list",role:"combobox","aria-expanded":!0,"aria-controls":l.listId,"aria-labelledby":l.labelId,"aria-activedescendant":a,id:l.inputId,type:"text",value:r?e.value:i,onChange:c=>{r||s.setState("search",c.target.value),n?.(c.target.value)}})}),pi=d.forwardRef((e,t)=>{let{children:n,label:o="Suggestions",...r}=e,s=d.useRef(null),i=d.useRef(null),a=Ne(c=>c.selectedItemId),l=Xe();return d.useEffect(()=>{if(i.current&&s.current){let c=i.current,f=s.current,u,h=new ResizeObserver(()=>{u=requestAnimationFrame(()=>{let v=c.offsetHeight;f.style.setProperty("--cmdk-list-height",v.toFixed(1)+"px")})});return h.observe(c),()=>{cancelAnimationFrame(u),h.unobserve(c)}}},[]),d.createElement(te.div,{ref:Ae(s,t),...r,"cmdk-list":"",role:"listbox",tabIndex:-1,"aria-activedescendant":a,"aria-label":o,id:l.listId},st(e,c=>d.createElement("div",{ref:Ae(i,l.listInnerRef),"cmdk-list-sizer":""},c)))}),yi=d.forwardRef((e,t)=>{let{open:n,onOpenChange:o,overlayClassName:r,contentClassName:s,container:i,...a}=e;return d.createElement(Uo,{open:n,onOpenChange:o},d.createElement(Zo,{container:i},d.createElement(Go,{"cmdk-overlay":"",className:r}),d.createElement(Qo,{"aria-label":e.label,"cmdk-dialog":"",className:s},d.createElement(Un,{ref:t,...a}))))}),gi=d.forwardRef((e,t)=>Ne(n=>n.filtered.count===0)?d.createElement(te.div,{ref:t,...e,"cmdk-empty":"",role:"presentation"}):null),vi=d.forwardRef((e,t)=>{let{progress:n,children:o,label:r="Loading...",...s}=e;return d.createElement(te.div,{ref:t,...s,"cmdk-loading":"",role:"progressbar","aria-valuenow":n,"aria-valuemin":0,"aria-valuemax":100,"aria-label":r},st(e,i=>d.createElement("div",{"aria-hidden":!0},i)))}),Ye=Object.assign(Un,{List:pi,Item:ui,Input:hi,Group:fi,Separator:mi,Dialog:yi,Empty:gi,Loading:vi});function wi(e,t){let n=e.nextElementSibling;for(;n;){if(n.matches(t))return n;n=n.nextElementSibling}}function bi(e,t){let n=e.previousElementSibling;for(;n;){if(n.matches(t))return n;n=n.previousElementSibling}}function Zn(e){let t=d.useRef(e);return Re(()=>{t.current=e}),t}var Re=typeof window>"u"?d.useEffect:d.useLayoutEffect;function je(e){let t=d.useRef();return t.current===void 0&&(t.current=e()),t}function Ne(e){let t=_t(),n=()=>e(t.snapshot());return d.useSyncExternalStore(t.subscribe,n,n)}function Gn(e,t,n,o=[]){let r=d.useRef(),s=Xe();return Re(()=>{var i;let a=(()=>{var c;for(let f of n){if(typeof f=="string")return f.trim();if(typeof f=="object"&&"current"in f)return f.current?(c=f.current.textContent)==null?void 0:c.trim():r.current}})(),l=o.map(c=>c.trim());s.value(e,a,l),(i=t.current)==null||i.setAttribute(Be,a),r.current=a}),r}var xi=()=>{let[e,t]=d.useState(),n=je(()=>new Map);return Re(()=>{n.current.forEach(o=>o()),n.current=new Map},[e]),(o,r)=>{n.current.set(o,r),t({})}};function Si(e){let t=e.type;return typeof t=="function"?t(e.props):"render"in t?t.render(e.props):e}function st({asChild:e,children:t},n){return e&&d.isValidElement(t)?d.cloneElement(Si(t),{ref:t.ref},n(t.props.children)):n(t)}var ki={position:"absolute",width:"1px",height:"1px",padding:"0",margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0"};function qi({className:e,...t}){return p.jsx(Ye,{"data-slot":"command",className:P("bg-popover text-popover-foreground flex h-full w-full flex-col overflow-hidden rounded-md",e),...t})}function Ki({className:e,...t}){return p.jsxs("div",{"data-slot":"command-input-wrapper",className:"flex h-9 items-center gap-2 border-b px-3",children:[p.jsx(cr,{className:"size-4 shrink-0 opacity-50"}),p.jsx(Ye.Input,{"data-slot":"command-input",className:P("placeholder:text-muted-foreground flex h-10 w-full rounded-md bg-transparent py-3 text-sm outline-hidden disabled:cursor-not-allowed disabled:opacity-50",e),...t})]})}function Vi({className:e,...t}){return p.jsx(Ye.List,{"data-slot":"command-list",className:P("max-h-[300px] scroll-py-1 overflow-x-hidden overflow-y-auto",e),...t})}function Ui({...e}){return p.jsx(Ye.Empty,{"data-slot":"command-empty",className:"py-6 text-center text-sm",...e})}function Zi({className:e,...t}){return p.jsx(Ye.Group,{"data-slot":"command-group",className:P("text-foreground [&_[cmdk-group-heading]]:text-muted-foreground overflow-hidden p-1 [&_[cmdk-group-heading]]:px-2 [&_[cmdk-group-heading]]:py-1.5 [&_[cmdk-group-heading]]:text-xs [&_[cmdk-group-heading]]:font-medium",e),...t})}function Gi({className:e,...t}){return p.jsx(Ye.Item,{"data-slot":"command-item",className:P("data-[selected=true]:bg-accent data-[selected=true]:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex cursor-default items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-hidden select-none data-[disabled=true]:pointer-events-none data-[disabled=true]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",e),...t})}const It={byBookId:e=>["categories",e]};function Qi(e,t){return et({queryKey:It.byBookId(t),queryFn:async()=>{const{data:n,error:o}=await De.from("categories").select("*").eq("user_id",e).eq("book_id",t).order("name",{ascending:!0});if(o)throw o;return n},enabled:!!e&&!!t})}function Xi(e){const t=Ue();return Ze({mutationFn:async n=>{const{data:o,error:r}=await De.from("categories").insert([n]).select().single();if(r)throw r;return o},onSuccess:()=>{t.invalidateQueries({queryKey:It.byBookId(e)})}})}function Ji(e){const t=Ue();return Ze({mutationFn:async({id:n,name:o,is_active:r})=>{const s={};o!==void 0&&(s.name=o),r!==void 0&&(s.is_active=r);const{data:i,error:a}=await De.from("categories").update(s).eq("id",n).select().single();if(a)throw a;return i},onSuccess:()=>{t.invalidateQueries({queryKey:It.byBookId(e)})}})}export{zi as A,Bt as B,nr as C,Ii as S,Pi as a,Wi as b,Ri as c,ji as d,rr as e,Ti as f,Bi as g,Ni as h,Li as i,er as j,Ei as k,Ai as l,Hi as m,$i as n,Ji as o,Xi as p,Fi as q,Yi as r,_i as s,qi as t,Qi as u,Ki as v,Vi as w,Ui as x,Zi as y,Gi as z};
