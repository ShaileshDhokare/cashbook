import{J as f,t as o,j as e,B as g,S as N,K as w}from"./index-C_Iz8dZ1.js";import{u as y,a as v,L as r,I as t,o as b,s as n}from"./schemas-8MO4LvMr.js";import{C as P,a as F,b as E,c as S,d as C}from"./card-CLjc8Grt.js";import{a as R}from"./authServices-BiKn1x_6.js";const U=b({firstName:n().min(3,"First name is required").max(14,"First name is too long"),lastName:n().min(3,"Last name is required").max(14,"Last name is too long"),email:n().email("Invalid email address"),username:n().min(3,"Username is required").max(14,"Username is too long").regex(/^[A-Za-z0-9_]+$/,"Username can only contain letters, numbers, and underscores"),password:n().min(8,"Password must be at least 8 characters long").regex(/(?=.*[A-Z])/,"Password must contain at least one uppercase letter").regex(/(?=.*\d)/,"Password must contain at least one number").regex(/(?=.*[@#$%&*?!=])/,"Password must contain at least one special character (@#$%&*?!=)"),confirmPassword:n()}).refine(l=>l.password===l.confirmPassword,{message:"Passwords do not match"});function I(){const l=f(),{register:a,handleSubmit:c,formState:{errors:s,isValid:d}}=y({mode:"onTouched",reValidateMode:"onChange",resolver:v(U)}),x=o(i=>i.setSession),u=o(i=>i.setError),{mutate:p,isPending:h}=R(),j=async i=>{p(i,{onSuccess:m=>{w.success("Registration successful!",{duration:4e3,description:"Please check the email to verify your account."}),x(m?.session),l("/")},onError:m=>{u(m)}})};return e.jsx("div",{className:"min-h-screen",children:e.jsx("div",{className:"flex mt-5 flex-col items-center justify-center min-h-screen bg-gray-50 px-4",children:e.jsxs(P,{className:"w-full md:w-[350px] lg:w-[450px]",children:[e.jsxs(F,{className:"text-center",children:[e.jsx(E,{className:"text-2xl font-bold",children:"Create an Account"}),e.jsx("p",{className:"text-gray-500 text-md mt-1",children:"Welcome! Please enter your details to create an account"})]}),e.jsxs("form",{onSubmit:c(j),className:"space-y-4",children:[e.jsxs(S,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"firstName",children:"Firstname"}),e.jsx(t,{id:"firstName",type:"text",placeholder:"Enter your firstname",...a("firstName"),"aria-invalid":s.firstName?"true":"false"}),s.firstName&&e.jsx("p",{className:"text-sm text-red-500",children:s.firstName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"lastName",children:"Lastname"}),e.jsx(t,{id:"lastName",type:"text",placeholder:"Enter your lastname",...a("lastName"),"aria-invalid":s.lastName?"true":"false"}),s.lastName&&e.jsx("p",{className:"text-sm text-red-500",children:s.lastName.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"email",children:"Email"}),e.jsx(t,{id:"email",type:"email",placeholder:"Enter your email",...a("email"),"aria-invalid":s.email?"true":"false"}),s.email&&e.jsx("p",{className:"text-sm text-red-500",children:s.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"username",children:"Username"}),e.jsx(t,{id:"username",type:"text",placeholder:"Enter your username",...a("username"),"aria-invalid":s.username?"true":"false"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Username can only contain letters, numbers, and underscores."}),s.username&&e.jsx("p",{className:"text-sm text-red-500",children:s.username.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"password",children:"Password"}),e.jsx(t,{id:"password",type:"password",placeholder:"Enter your password",...a("password"),"aria-invalid":s.password?"true":"false"}),e.jsx("p",{className:"text-xs text-gray-500",children:"Password must contain at least one uppercase letter, one number, and one special character form(@#$%&*?!=)."}),s.password&&e.jsx("p",{className:"text-sm text-red-500",children:s.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"confirmPassword",children:"Confirm Password"}),e.jsx(t,{id:"confirmPassword",type:"password",placeholder:"Enter your password",...a("confirmPassword"),"aria-invalid":s.confirmPassword?"true":"false"}),s.confirmPassword&&e.jsx("p",{className:"text-sm text-red-500",children:s.confirmPassword.message})]})]}),e.jsx(C,{children:e.jsx(g,{type:"submit",className:"w-full bg-blue-600 hover:bg-blue-700",disabled:!d,children:h?e.jsxs(e.Fragment,{children:[e.jsx(N,{}),"Registering..."]}):"Register"})})]})]})})})}export{I as default};
